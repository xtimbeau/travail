<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.9.13">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Xavier Timbeau">

<title>news – Partage de la valeur ajoutée, comparaisons internationales</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../../../">
<link href="../../../../../../www/fofce.png" rel="icon" type="image/png">
<script src="../../../../../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../../../../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../../../../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../../../site_libs/quarto-html/quarto-syntax-highlighting-55204c15e214935f5512e1d46ffc1259.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../../../site_libs/bootstrap/bootstrap-6c2e0ee8c1c0088e18264816ff7b29fd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="../../../../../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../../../../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../../../../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Pas de résultats",
    "search-matching-documents-text": "documents trouvés",
    "search-copy-link-title": "Copier le lien vers la recherche",
    "search-hide-matches-text": "Cacher les correspondances additionnelles",
    "search-more-match-text": "correspondance de plus dans ce document",
    "search-more-matches-text": "correspondances de plus dans ce document",
    "search-clear-button-title": "Effacer",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Annuler",
    "search-submit-button-title": "Envoyer",
    "search-label": "Recherche"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>


<meta name="citation_author" content="Xavier Timbeau">
<meta name="citation_publication_date" content="2025-10-24">
<meta name="citation_cover_date" content="2025-10-24">
<meta name="citation_year" content="2025">
<meta name="citation_online_date" content="2025-10-24">
<meta name="citation_fulltext_html_url" content="https://xtimbeau.github.io/travail/renv/library/macos/R-4.5/aarch64-apple-darwin20/renv/NEWS.html">
<meta name="citation_language" content="fr">
<meta name="citation_reference" content="citation_title=The Missing Profits of Nations;,citation_author=Thomas Tørsløv;,citation_author=Ludvig Wier;,citation_author=Gabriel Zucman;,citation_publication_date=2022-07-26;,citation_cover_date=2022-07-26;,citation_year=2022;,citation_fulltext_html_url=http://dx.doi.org/10.1093/restud/rdac049;,citation_issue=3;,citation_doi=10.1093/restud/rdac049;,citation_volume=90;,citation_language=en;,citation_journal_title=The Review of Economic Studies;">
<meta name="citation_reference" content="citation_title=Politiques sociales&nbsp;: L’état des savoirs;,citation_author=Léa Lima;,citation_author=Carole Tuchszirer;,citation_publication_date=2022-02-24;,citation_cover_date=2022-02-24;,citation_year=2022;,citation_fulltext_html_url=http://dx.doi.org/10.3917/dec.girau.2022.01.0045;,citation_doi=10.3917/dec.girau.2022.01.0045;,citation_inbook_title=undefined;">
<meta name="citation_reference" content="citation_title=Quarante ans d’analyse du travail et de l’emploi&nbsp;: Points de vue de quatre économistes;,citation_author=Philippe Askenazy;,citation_author=Luc Behaghel;,citation_author=Morgane Laouenan;,citation_author=Dominique Meurs;,citation_publication_date=2019-10-02;,citation_cover_date=2019-10-02;,citation_year=2019;,citation_fulltext_html_url=http://dx.doi.org/10.4000/travailemploi.9068;,citation_issue=158;,citation_doi=10.4000/travailemploi.9068;,citation_journal_title=Travail et emploi;">
<meta name="citation_reference" content="citation_title=Partage de la valeur ajoutée, partage des profits et écarts de rémunérations en france;,citation_author=Jean-Philippe Cotis;,citation_publication_date=2009-05-13;,citation_cover_date=2009-05-13;,citation_year=2009;,citation_fulltext_html_url=https://www.vie-publique.fr/rapport/30455-partage-valeur-ajoutee-partage-profits-et-ecarts-de-remuneration;,citation_technical_report_institution=Rapport pour la Présidence de la République Française;">
<meta name="citation_reference" content="citation_title=Le partage de la valeur ajoutée;,citation_author=Philippe Askenazy;,citation_author=Gilbert Cette;,citation_author=Arnaud Sylvain;,citation_publication_date=2011-03-01;,citation_cover_date=2011-03-01;,citation_year=2011;,citation_fulltext_html_url=http://dx.doi.org/10.3917/dec.asken.2011.01;,citation_doi=10.3917/dec.asken.2011.01;,citation_journal_title=Repères, La Découverte;">
<meta name="citation_reference" content="citation_title=The future of european competitiveness – a competitiveness strategy for europe;,citation_author=Mario Draghi;,citation_publication_date=2024-09-09;,citation_cover_date=2024-09-09;,citation_year=2024;,citation_fulltext_html_url=https://commission.europa.eu/topics/strengthening-european-competitiveness/eu-competitiveness-looking-ahead_en#paragraph_47059;,citation_technical_report_institution=Commission Européenne/European Commission;">
<meta name="citation_reference" content="citation_title=La transition écologique en europe : Tenir le cap;,citation_author=Anne Epaulard;,citation_author=Paul Malliet;,citation_author=Anissa Saumtally;,citation_author=Xavier Timbeau;,citation_publication_date=2024-06-21;,citation_cover_date=2024-06-21;,citation_year=2024;,citation_fulltext_html_url=https://www.ofce.sciences-po.fr/pdf/pbrief/2024/OFCEpbrief131.pdf;,citation_issue=131;,citation_journal_title=Policy Brief de l’OFCE;">
<meta name="citation_reference" content="citation_title=Trois décennies de réformes fiscales en france;,citation_author=Xavier Timbeau;,citation_publication_date=2022;,citation_cover_date=2022;,citation_year=2022;,citation_fulltext_html_url=https://shs.cairn.info/revue-l-economie-politique-2022-4-page-8?lang=fr;,citation_issue=96;,citation_journal_title=Economie Politique;">
<meta name="citation_reference" content="citation_title=7. Le partage de la valeur ajoutée&nbsp;n’a pas encore dévoilé tous ses mystères;,citation_author=Sophie Piton;,citation_publication_date=2019-12-20;,citation_cover_date=2019-12-20;,citation_year=2019;,citation_fulltext_html_url=http://dx.doi.org/10.3917/rce.024.0131;,citation_issue=1;,citation_doi=10.3917/rce.024.0131;,citation_volume=n° 24;,citation_journal_title=Regards croisés sur l’économie;">
<meta name="citation_reference" content="citation_title=Le partage de la valeur ajoutée;,citation_author=Philippe Askenazy;,citation_author=Gilbert Cette;,citation_author=Arnaud Sylvain;,citation_publication_date=2012-09-01;,citation_cover_date=2012-09-01;,citation_year=2012;,citation_fulltext_html_url=http://dx.doi.org/10.3917/dec.asken.2012.01;,citation_doi=10.3917/dec.asken.2012.01;,citation_journal_title=Repères;">
<meta name="citation_reference" content="citation_title=Le partage de la valeur ajoutée en France;,citation_author=Xavier Timbeau;,citation_publication_date=2002;,citation_cover_date=2002;,citation_year=2002;,citation_fulltext_html_url=http://dx.doi.org/10.3917/reof.080.0063;,citation_issue=1;,citation_doi=10.3917/reof.080.0063;,citation_volume=80;,citation_language=fr;,citation_journal_title=Revue de l’OFCE;">
<meta name="citation_reference" content="citation_title=Quelles marges de manœuvre pour revaloriser le travail ?;,citation_author=Xavier Timbeau;,citation_publication_date=2025;,citation_cover_date=2025;,citation_year=2025;,citation_fulltext_html_url=https://shs.cairn.info/revue-l-economie-politique-2025-1-page-64?lang=fr;,citation_issue=1;,citation_volume=105;,citation_language=fr;,citation_journal_title=Economie Politique;">
<meta name="citation_reference" content="citation_title=Le partage de la valeur ajoutée en europe;,citation_author=Michel Husson;,citation_publication_date=2010-03-01;,citation_cover_date=2010-03-01;,citation_year=2010;,citation_fulltext_html_url=http://dx.doi.org/10.3917/rdli.064.0047;,citation_issue=1;,citation_doi=10.3917/rdli.064.0047;,citation_volume=n° 64;,citation_journal_title=La Revue de l’Ires;">
<meta name="citation_reference" content="citation_title=Le partage de la valeur ajoutée dans le cycle;,citation_author=Christophe Hurlin;,citation_author=Franck Portier;,citation_publication_date=1996;,citation_cover_date=1996;,citation_year=1996;,citation_fulltext_html_url=http://dx.doi.org/10.3406/ecop.1996.5809;,citation_issue=4;,citation_doi=10.3406/ecop.1996.5809;,citation_volume=125;,citation_language=fr;,citation_journal_title=Économie &amp;amp;amp; prévision;">
<meta name="citation_reference" content="citation_title=Which r-star, public bonds or private investment? Measurement and policy implications.;,citation_author=Ricardo Reis;,citation_publication_date=2022-09;,citation_cover_date=2022-09;,citation_year=2022;,citation_fulltext_html_url=https://personal.lse.ac.uk/reisr/papers/99-ampf.pdf;,citation_language=en;">
<meta name="citation_reference" content="citation_title=La part du travail sur le long terme : un déclin ?;,citation_author=Gilbert Cette;,citation_author=Lorraine Koehl;,citation_author=Thomas Philippon;,citation_publication_date=2019-12-01;,citation_cover_date=2019-12-01;,citation_year=2019;,citation_fulltext_html_url=https://www.insee.fr/en/statistiques/4253023?sommaire=4253180;,citation_issue=510‑511‑512;,citation_doi=10.24187/ecostat.2019.510t.1993;,citation_language=fr;,citation_journal_title=Economie et Statistique / Economics and Statistics;">
<meta name="citation_reference" content="citation_title=La part du travail sur le long terme : un déclin ?;,citation_author=Mathilde Pak;,citation_author=Pierre-Alain Pionnier;,citation_author=Cyrille Schwellnus;,citation_publication_date=2019-12-01;,citation_cover_date=2019-12-01;,citation_year=2019;,citation_fulltext_html_url=https://www.insee.fr/fr/statistiques/4253015?sommaire=4253159;,citation_issue=510‑511‑512;,citation_doi=10.24187/ecostat.2019.510t.1993;,citation_language=fr;,citation_journal_title=Economie et Statistique / Economics and Statistics;">
<meta name="citation_reference" content="citation_title=Le partage de la richesse produite en France entre le travail et le capital;,citation_author=Charles Gendre;,citation_author=Yann Thommen;,citation_publication_date=2025-05-01;,citation_cover_date=2025-05-01;,citation_year=2025;,citation_fulltext_html_url=https://www.tresor.economie.gouv.fr/Articles/b72e151f-ac09-47e6-92eb-30657fce5e46/files/9a8f51d9-a060-4547-8852-b630858d7565;,citation_issue=363;,citation_language=fr;,citation_journal_title=Trésor-Éco;">
<meta name="citation_reference" content="citation_title=Réformer la fiscalité du patrimoine&nbsp;?;,citation_author=Guillaume Allègre;,citation_author=Mathieu Plane;,citation_author=Xavier Timbeau;,citation_publication_date=2012-07-01;,citation_cover_date=2012-07-01;,citation_year=2012;,citation_fulltext_html_url=http://dx.doi.org/10.3917/reof.122.0231;,citation_issue=3;,citation_doi=10.3917/reof.122.0231;,citation_volume=n° 122;,citation_journal_title=Revue de l’OFCE;">
<meta name="citation_reference" content="citation_title=Théorie de la régulation. Un nouvel état des savoirs;,citation_abstract=Constituée dans les années 1970 à partir des pensées marxistes et keynésiennes, la théorie de la régulation est devenue une approche économique cruciale qui offre une alternative robuste à la théorie néoclassique. Depuis l’« état des savoirs » publié en 1995, la théorie de la régulation a beaucoup évolué. Elle n’est plus seulement identifiée à une recherche de type macroéconomique (modes de régulation des économies nationales et du capitalisme mondial). Elle traite aussi désormais des entreprises et de champs sectoriels classiques (automobile, agroalimentaire…) comme plus originaux (éducation, santé, ESS, RSE…) ainsi que de problématiques transversales fondamentales (écologie, genre, connaissances…). Faisant intervenir une centaine d’universitaires spécialistes de divers champs de la socio-économie et prenant en compte cette extension des champs de recherche régulationnistes, cet ouvrage s’impose comme le « nouvel état des savoirs ». Il sera un outil de travail efficace et durable pour la communauté étudiante – du master au doctorat – comme pour les chercheurs et chercheuses avancées et constituera une référence pour intégrer les transformations structurelles de la société à une économie politique renouvelée.;,citation_author=Robert Boyer;,citation_author=Jean-Pierre Chanteau;,citation_author=Agnès Labrousse;,citation_author=Thomas Lamarche;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_fulltext_html_url=https://shs.cairn.info/theorie-de-la-regulation--9782100840571?lang=fr;,citation_doi=10.3917/dunod.boyer.2023.01;,citation_isbn=978-2-10-084057-1;,citation_series_title=Éco Sup;">
<meta name="citation_reference" content="citation_title=Théorie de la régulation, l’état des savoirs;,citation_abstract=Pourquoi les « miracles économiques » d’hier sont-ils entrés en crise ? Si toutes les économies obéissent au même modèle, comment expliquer la diversité des trajectoires américaine, européenne et japonaise ? L’État-nation, détrôné par les forces du marché, a-t-il perdu tout pouvoir ? Faut-il anticiper l’émergence de régulations supranationales ? Pourquoi est-il si difficile, en Russie, d’implanter les institutions fondatrices d’une économie moderne ? La victoire des politiques économiques de « retour au marché » est-elle réversible ? Autant de mystères pour nombre de théories économiques que vise à éclairer la théorie de la régulation : chaque économie a la conjoncture et les crises de sa structure. Or ces structures varient dans le temps et dans l’espace. Pour en rendre compte, cette théorie a élaboré un ensemble de concepts, de méthodes et de modèles en symbiose avec les enseignements de l’histoire longue et d’études comparatives systématiques. Née au début des années soixante-dix avec l’analyse du fordisme et de sa crise, la théorie de la régulation n’a cessé depuis lors de se développer dans de nouvelles directions : théorie de l’État, de la monnaie, formalisations macroéconomiques de divers régimes de croissance, analyses sectorielles, prospective des alternatives au fordisme, enfin contribution à une théorie générale des institutions. Cet ouvrage propose un panorama complet et actualisé de tous ces développements : sur chaque thème, un article concis présente les concepts de base, les principaux résultats et les directions actuelles de la recherche. Fruit du travail d’une quarantaine de spécialistes de diverses disciplines et divers pays, cet ouvrage de référence sera utile aussi bien aux étudiants qu’aux enseignants et aux chercheurs.;,citation_author=Robert Boyer;,citation_author=Yves Saillard;,citation_publication_date=2002;,citation_cover_date=2002;,citation_year=2002;,citation_fulltext_html_url=https://shs.cairn.info/theorie-de-la-regulation-l-etat-des-savoirs--9782707137654?lang=fr;,citation_doi=10.3917/dec.boyer.2002.01;,citation_isbn=978-2-7071-3765-4;,citation_volume=2e éd.;,citation_series_title=Recherches;">
<meta name="citation_reference" content="citation_title=Une vision après dépréciation du compte des sociétés non financières;,citation_author=Pierre Sicsic;,citation_publication_date=2018-04-11;,citation_cover_date=2018-04-11;,citation_year=2018;,citation_fulltext_html_url=https://www.banque-france.fr/fr/publications-et-statistiques/publications/une-vision-apres-depreciation-du-compte-des-societes-non;,citation_journal_title=Bloc-notes Eco, Banque de France;,citation_publisher=Banque de France;">
<meta name="citation_reference" content="citation_title=Quel est vraiment le poids de l’industrie en france et en allemagne ?;,citation_author=Sylvain Larieu;,citation_publication_date=2024-07-12;,citation_cover_date=2024-07-12;,citation_year=2024;,citation_fulltext_html_url=https://blog.insee.fr/combien-pese-l-industrie-en-france-et-en-allemagne/);,citation_journal_title=Le Blog de l’INSEE;,citation_publisher=INSEE;">
</head>

<body class="floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="https://www.ofce.fr/" class="navbar-brand navbar-brand-logo">
    <img src="../../../../../../www/ofce_m.png" alt="OFCE" class="navbar-logo light-content">
    <img src="../../../../../../www/ofce_m.png" alt="OFCE" class="navbar-logo dark-content">
    </a>
  </div>
            <div id="quarto-search" class="" title="Recherche"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Basculer la navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../../../index.html"> <i class="bi bi-house" role="img">
</i> 
<span class="menu-text">wp 2025-23</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../../annexes.html"> <i class="bi bi-file-bar-graph" role="img">
</i> 
<span class="menu-text">Annexes</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../../NEWS.html"> <i class="bi bi-newspaper" role="img">
</i> 
<span class="menu-text">Historique</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../../../about.html"> <i class="bi bi-person-circle" role="img">
</i> 
<span class="menu-text"> </span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/xtimbeau/travail"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"> </span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
  <a href="index.html">
   <p class="wp">
          Document de travail<br>de l'
      <img src="_extensions/ofce/wp/ofce_m.png" width="30" height="15" style="margin:0px -4px">
      &nbsp;n°2025-23</p>
      
  </a>
    <h2 id="toc-title">Sur cette page</h2>
    <ul>
    <li><a href="#renv-1.1.5" id="toc-renv-1.1.5" class="nav-link active" data-scroll-target="#renv-1.1.5"><span class="header-section-number">1</span> renv 1.1.5</a></li>
    <li><a href="#renv-1.1.4" id="toc-renv-1.1.4" class="nav-link" data-scroll-target="#renv-1.1.4"><span class="header-section-number">2</span> renv 1.1.4</a></li>
    <li><a href="#renv-1.1.3" id="toc-renv-1.1.3" class="nav-link" data-scroll-target="#renv-1.1.3"><span class="header-section-number">3</span> renv 1.1.3</a></li>
    <li><a href="#renv-1.1.2" id="toc-renv-1.1.2" class="nav-link" data-scroll-target="#renv-1.1.2"><span class="header-section-number">4</span> renv 1.1.2</a></li>
    <li><a href="#renv-1.1.1" id="toc-renv-1.1.1" class="nav-link" data-scroll-target="#renv-1.1.1"><span class="header-section-number">5</span> renv 1.1.1</a></li>
    <li><a href="#renv-1.1.0" id="toc-renv-1.1.0" class="nav-link" data-scroll-target="#renv-1.1.0"><span class="header-section-number">6</span> renv 1.1.0</a>
    <ul class="collapse">
    <li><a href="#major-changes" id="toc-major-changes" class="nav-link" data-scroll-target="#major-changes"><span class="header-section-number">6.1</span> Major Changes</a></li>
    <li><a href="#other-fixes" id="toc-other-fixes" class="nav-link" data-scroll-target="#other-fixes"><span class="header-section-number">6.2</span> Other Fixes</a></li>
    </ul></li>
    <li><a href="#renv-1.0.11" id="toc-renv-1.0.11" class="nav-link" data-scroll-target="#renv-1.0.11"><span class="header-section-number">7</span> renv 1.0.11</a></li>
    <li><a href="#renv-1.0.10" id="toc-renv-1.0.10" class="nav-link" data-scroll-target="#renv-1.0.10"><span class="header-section-number">8</span> renv 1.0.10</a></li>
    <li><a href="#renv-1.0.9" id="toc-renv-1.0.9" class="nav-link" data-scroll-target="#renv-1.0.9"><span class="header-section-number">9</span> renv 1.0.9</a></li>
    <li><a href="#renv-1.0.8" id="toc-renv-1.0.8" class="nav-link" data-scroll-target="#renv-1.0.8"><span class="header-section-number">10</span> renv 1.0.8</a></li>
    <li><a href="#renv-1.0.7" id="toc-renv-1.0.7" class="nav-link" data-scroll-target="#renv-1.0.7"><span class="header-section-number">11</span> renv 1.0.7</a></li>
    <li><a href="#renv-1.0.6" id="toc-renv-1.0.6" class="nav-link" data-scroll-target="#renv-1.0.6"><span class="header-section-number">12</span> renv 1.0.6</a></li>
    <li><a href="#renv-1.0.5" id="toc-renv-1.0.5" class="nav-link" data-scroll-target="#renv-1.0.5"><span class="header-section-number">13</span> renv 1.0.5</a></li>
    <li><a href="#renv-1.0.4" id="toc-renv-1.0.4" class="nav-link" data-scroll-target="#renv-1.0.4"><span class="header-section-number">14</span> renv 1.0.4</a></li>
    <li><a href="#renv-1.0.3" id="toc-renv-1.0.3" class="nav-link" data-scroll-target="#renv-1.0.3"><span class="header-section-number">15</span> renv 1.0.3</a></li>
    <li><a href="#renv-1.0.2" id="toc-renv-1.0.2" class="nav-link" data-scroll-target="#renv-1.0.2"><span class="header-section-number">16</span> renv 1.0.2</a></li>
    <li><a href="#renv-1.0.1" id="toc-renv-1.0.1" class="nav-link" data-scroll-target="#renv-1.0.1"><span class="header-section-number">17</span> renv 1.0.1</a></li>
    <li><a href="#renv-1.0.0" id="toc-renv-1.0.0" class="nav-link" data-scroll-target="#renv-1.0.0"><span class="header-section-number">18</span> renv 1.0.0</a>
    <ul class="collapse">
    <li><a href="#new-features" id="toc-new-features" class="nav-link" data-scroll-target="#new-features"><span class="header-section-number">18.1</span> New features</a></li>
    <li><a href="#bug-fixes-and-minor-improvements" id="toc-bug-fixes-and-minor-improvements" class="nav-link" data-scroll-target="#bug-fixes-and-minor-improvements"><span class="header-section-number">18.2</span> Bug fixes and minor improvements</a></li>
    </ul></li>
    <li><a href="#renv-0.17.3" id="toc-renv-0.17.3" class="nav-link" data-scroll-target="#renv-0.17.3"><span class="header-section-number">19</span> renv 0.17.3</a></li>
    <li><a href="#renv-0.17.2" id="toc-renv-0.17.2" class="nav-link" data-scroll-target="#renv-0.17.2"><span class="header-section-number">20</span> renv 0.17.2</a></li>
    <li><a href="#renv-0.17.1" id="toc-renv-0.17.1" class="nav-link" data-scroll-target="#renv-0.17.1"><span class="header-section-number">21</span> renv 0.17.1</a></li>
    <li><a href="#renv-0.17.0" id="toc-renv-0.17.0" class="nav-link" data-scroll-target="#renv-0.17.0"><span class="header-section-number">22</span> renv 0.17.0</a></li>
    <li><a href="#renv-0.16.0" id="toc-renv-0.16.0" class="nav-link" data-scroll-target="#renv-0.16.0"><span class="header-section-number">23</span> renv 0.16.0</a></li>
    <li><a href="#renv-0.15.5" id="toc-renv-0.15.5" class="nav-link" data-scroll-target="#renv-0.15.5"><span class="header-section-number">24</span> renv 0.15.5</a></li>
    <li><a href="#renv-0.15.4" id="toc-renv-0.15.4" class="nav-link" data-scroll-target="#renv-0.15.4"><span class="header-section-number">25</span> renv 0.15.4</a></li>
    <li><a href="#renv-0.15.3" id="toc-renv-0.15.3" class="nav-link" data-scroll-target="#renv-0.15.3"><span class="header-section-number">26</span> renv 0.15.3</a></li>
    <li><a href="#renv-0.15.2" id="toc-renv-0.15.2" class="nav-link" data-scroll-target="#renv-0.15.2"><span class="header-section-number">27</span> renv 0.15.2</a></li>
    <li><a href="#renv-0.15.1" id="toc-renv-0.15.1" class="nav-link" data-scroll-target="#renv-0.15.1"><span class="header-section-number">28</span> renv 0.15.1</a></li>
    <li><a href="#renv-0.15.0" id="toc-renv-0.15.0" class="nav-link" data-scroll-target="#renv-0.15.0"><span class="header-section-number">29</span> renv 0.15.0</a></li>
    <li><a href="#renv-0.14.0" id="toc-renv-0.14.0" class="nav-link" data-scroll-target="#renv-0.14.0"><span class="header-section-number">30</span> renv 0.14.0</a></li>
    <li><a href="#renv-0.13.2" id="toc-renv-0.13.2" class="nav-link" data-scroll-target="#renv-0.13.2"><span class="header-section-number">31</span> renv 0.13.2</a></li>
    <li><a href="#renv-0.13.1" id="toc-renv-0.13.1" class="nav-link" data-scroll-target="#renv-0.13.1"><span class="header-section-number">32</span> renv 0.13.1</a></li>
    <li><a href="#renv-0.13.0" id="toc-renv-0.13.0" class="nav-link" data-scroll-target="#renv-0.13.0"><span class="header-section-number">33</span> renv 0.13.0</a></li>
    <li><a href="#renv-0.12.5" id="toc-renv-0.12.5" class="nav-link" data-scroll-target="#renv-0.12.5"><span class="header-section-number">34</span> renv 0.12.5</a></li>
    <li><a href="#renv-0.12.4" id="toc-renv-0.12.4" class="nav-link" data-scroll-target="#renv-0.12.4"><span class="header-section-number">35</span> renv 0.12.4</a></li>
    <li><a href="#renv-0.12.3" id="toc-renv-0.12.3" class="nav-link" data-scroll-target="#renv-0.12.3"><span class="header-section-number">36</span> renv 0.12.3</a></li>
    <li><a href="#renv-0.12.2" id="toc-renv-0.12.2" class="nav-link" data-scroll-target="#renv-0.12.2"><span class="header-section-number">37</span> renv 0.12.2</a></li>
    <li><a href="#renv-0.12.1" id="toc-renv-0.12.1" class="nav-link" data-scroll-target="#renv-0.12.1"><span class="header-section-number">38</span> renv 0.12.1</a></li>
    <li><a href="#renv-0.12.0" id="toc-renv-0.12.0" class="nav-link" data-scroll-target="#renv-0.12.0"><span class="header-section-number">39</span> renv 0.12.0</a></li>
    <li><a href="#renv-0.11.0" id="toc-renv-0.11.0" class="nav-link" data-scroll-target="#renv-0.11.0"><span class="header-section-number">40</span> renv 0.11.0</a></li>
    <li><a href="#renv-0.10.0" id="toc-renv-0.10.0" class="nav-link" data-scroll-target="#renv-0.10.0"><span class="header-section-number">41</span> renv 0.10.0</a></li>
    <li><a href="#renv-0.9.3" id="toc-renv-0.9.3" class="nav-link" data-scroll-target="#renv-0.9.3"><span class="header-section-number">42</span> renv 0.9.3</a></li>
    <li><a href="#renv-0.9.2" id="toc-renv-0.9.2" class="nav-link" data-scroll-target="#renv-0.9.2"><span class="header-section-number">43</span> renv 0.9.2</a></li>
    <li><a href="#renv-0.9.1" id="toc-renv-0.9.1" class="nav-link" data-scroll-target="#renv-0.9.1"><span class="header-section-number">44</span> renv 0.9.1</a></li>
    <li><a href="#renv-0.9.0" id="toc-renv-0.9.0" class="nav-link" data-scroll-target="#renv-0.9.0"><span class="header-section-number">45</span> renv 0.9.0</a></li>
    <li><a href="#renv-0.8.3" id="toc-renv-0.8.3" class="nav-link" data-scroll-target="#renv-0.8.3"><span class="header-section-number">46</span> renv 0.8.3</a></li>
    <li><a href="#renv-0.8.2" id="toc-renv-0.8.2" class="nav-link" data-scroll-target="#renv-0.8.2"><span class="header-section-number">47</span> renv 0.8.2</a></li>
    <li><a href="#renv-0.8.1" id="toc-renv-0.8.1" class="nav-link" data-scroll-target="#renv-0.8.1"><span class="header-section-number">48</span> renv 0.8.1</a></li>
    <li><a href="#renv-0.8.0" id="toc-renv-0.8.0" class="nav-link" data-scroll-target="#renv-0.8.0"><span class="header-section-number">49</span> renv 0.8.0</a></li>
    </ul>
<div class="quarto-other-links"><h2>Autres contenus</h2><ul><li><a href="annexes.html"><i class="bi bi-file-bar-graph"></i>Annexes</a></li><li><a href="NEWS.html"><i class="bi bi-newspaper"></i>Historique des changements</a></li><li><a href="seminaire_lunch_OFCE.html"><i class="bi bi-file-earmark-easel"></i>Séminaire Lunch OFCE</a></li><li><a href="seminaire_IRES_OFCE.html"><i class="bi bi-file-earmark-easel"></i>Séminaire IRES-OFCE</a></li><li><a href="https://www.ofce.sciences-po.fr/blog2024/fr/2025/20251128_XT/"><i class="bi bi-pen"></i>Post sur le blog de l'OFCE</a></li></ul></div></nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
  <div class="quarto-title">
        
      </div>

  
  
    <details class="details-box">
      <summary class="quarto-title-meta-heading"><b>Autrices, auteurs &amp; résumé</b></summary>

          <div class="quarto-title-meta-author">
        <div class="quarto-title-meta-heading">Par</div>
        <div class="quarto-title-meta-heading">Affiliation</div>

              <div class="quarto-title-meta-contents">
          <span class="author">Xavier Timbeau <a href="mailto:xavier.timbeau@sciencespo.fr" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0000-0002-6198-5953" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></span>
        </div>

              <div class="quarto-title-meta-contents">
                  <p class="affiliation">
                      <a href="http://www.ofce.fr">
                      OFCE, Sciences Po Paris
                      </a>
                    </p>
                </div>
                  </div>
      
            
      <div class="quarto-title-meta">
              <div>
          <div class="quarto-title-meta-heading">Publié le</div>
          <div class="quarto-title-meta-contents">
            <p class="date">24 octobre 2025</p>
          </div>
        </div>
        
              <div>
          <div class="quarto-title-meta-heading">Modifié le</div>
          <div class="quarto-title-meta-contents">
            <p class="date-modified">16 décembre 2025</p>
          </div>
        </div>
        
        
        
        
            </div>

      
        </details>

</header>


<section id="renv-1.1.5" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> renv 1.1.5</h1>
<ul>
<li><p>Fixed an issue where <code>renv::dependencies()</code> could fail for chunks which had a <code>label</code> which was not a length-one character vector. (#2144)</p></li>
<li><p>Fixed an issue where <code>file.rename()</code> could fail when unpacking a package during installation in certain Windows environments. (#2156)</p></li>
<li><p><code>renv</code>’s dependency discovery now supports usages of <code>base::use()</code>. (#2130)</p></li>
<li><p>Fixed an issue where <code>renv</code> could fail to parse remote references containing an <code>@</code> character. (#2135)</p></li>
<li><p>Fixed an issue where <code>renv::sysreqs(distro = &lt;...&gt;)</code> could fail when passed an alternate distribution without a version specifier. (#2105)</p></li>
<li><p>Fixed an issue where multimode R documents containing chunk headers which did not parse to an R list could cause dependency inference to fail. (#2110)</p></li>
</ul>
</section>
<section id="renv-1.1.4" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> renv 1.1.4</h1>
<ul>
<li><p>Fixed an issue where <code>renv</code> could erroneously record packages installed from Posit Package Manager snapshots as being installed from CRAN. (#2104)</p></li>
<li><p><code>renv</code> now only checks for archived packages during installation when <code>options(renv.install.allowArchivedPackages = TRUE)</code> is set. This fixes an issue where <code>renv</code> could erroneously discover that Rcpp 1.3 was available when using the Posit Package Manager repository.</p></li>
<li><p>Fixed an issue where <code>renv::dependencies()</code> could fail with an unhelpful error message if the scanned document contained a YAML header whose contents was not a map. (#2117)</p></li>
</ul>
</section>
<section id="renv-1.1.3" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> renv 1.1.3</h1>
<ul>
<li><p>Fixed an issue where <code>renv::hydrate()</code> could fail to install packages discovered in the user library during <code>renv::init()</code>. (#2109)</p></li>
<li><p><code>renv::update()</code> now only updates the packages installed in the project library by default. <code>renv::update(all = TRUE)</code> can be used to also check if packages installed in the default library are out-of-date, and install updated copies into the project library. (#2108)</p></li>
<li><p>Fixed an issue where package installation could fail on Arch Linux with the error message <span style="white-space:nowrap">« </span>don’t know how to check sysreqs on this system<span style="white-space:nowrap"> »</span>. (#2107)</p></li>
<li><p><code>renv</code> now supports profile-specific comments within <code>.gitignore</code> and <code>.renvignore</code> files. These are comments of the form <code>#| &lt;code&gt;</code>, where <code>&lt;code&gt;</code> is R code which should indicate if the <code>.renvignore</code> rules should apply. Typically, this should be of the form <code>#| profile == "extra"</code>, or <code>#| profile %in% c("extra", "other")</code>. Note that only a small subset of base R functions are available for evaluation in this context. Note that the first section in a <code>.renvignore</code> implicitly applies to all <span style="white-space:nowrap">profiles –</span> if you want to limit it to just the default profile, you can use <code>#| profile == "default"</code> for the first line. (#1662)</p></li>
<li><p>The environment variable <code>RENV_PATHS_VERSION</code> can now be used to substitute the R version component normally used in library / cache paths. The provided path can include placeholders like <code>%V</code> for the full R version including the patch level, and <code>%v</code> for the R version without the patch level. Defaults to <code>R-%v</code> when unset. (#1687)</p></li>
<li><p><code>renv::install()</code> gains the <code>transactional</code> argument, for parity with <code>renv::restore()</code>. (#1109)</p></li>
</ul>
</section>
<section id="renv-1.1.2" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> renv 1.1.2</h1>
<ul>
<li><p><code>renv</code> gains the <code>sysreqs()</code> function, which can be used to query the system packages required by a set of R packages. Functionality is currently available for Debian-based distributions, as well as Red Hat distributions.</p></li>
<li><p>On Linux, <code>renv</code> now uses the database from <a href="https://github.com/rstudio/r-system-requirements" class="uri">https://github.com/rstudio/r-system-requirements</a> when determining if an R package’s required system libraries are installed, and notifies the user which packages (if any) are missing during install / restore.</p></li>
<li><p>Fixed an issue where <code>renv</code> could fail to retrieve credentials registered <span style="white-space:nowrap">for ‹</span>github.com› when querying URLs <span style="white-space:nowrap">at ‹</span>api.github.com›.</p></li>
<li><p>Fixed an issue where <code>renv</code> could stall when loading a project and validating that the configured version of Bioconductor is compatible with the version of R currently in use.</p></li>
<li><p><code>renv::snapshot()</code> no longer fails to generate a new lockfile if the project contains a lockfile which could not be read or parsed.</p></li>
<li><p>Fixed an issue where lockfiles containing unicode characters were not correctly written or read with versions of R (&lt; 4.2.0) on Windows. (#2091)</p></li>
</ul>
</section>
<section id="renv-1.1.1" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> renv 1.1.1</h1>
<ul>
<li><p>Fixed an issue where very long lockfiles could be truncated on write. (#2089)</p></li>
<li><p>Fixed an issue where <code>renv</code> inadvertently made web requests in tests during <code>R CMD check</code>.</p></li>
</ul>
</section>
<section id="renv-1.1.0" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> renv 1.1.0</h1>
<section id="major-changes" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="major-changes"><span class="header-section-number">6.1</span> Major Changes</h2>
<ul>
<li><p><code>renv</code> now includes additional package DESCRIPTION fields in the lockfile. This can be useful for validating the provenance of packages recorded in the lockfile, and also for applications using <code>renv</code> which would like to recompute the hash used for package caching from the lockfile itself.</p>
<p>If needed, old-style lockfiles can be generated by setting the option <code>options(renv.lockfile.version = 1)</code>. Note that this version of <code>renv</code> remains compatible both with the older (minimal) lockfiles, as well as with the newer lockfiles in this release. (#2057)</p></li>
</ul>
</section>
<section id="other-fixes" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="other-fixes"><span class="header-section-number">6.2</span> Other Fixes</h2>
<ul>
<li><p>The <code>renv</code> sandbox is now unlocked on exit after a call to <code>renv::use()</code>. This should alleviate issues seen where R’s attempts to clean up the temporary directory could fail due to inadequate permissions on the sandbox directory. (#2076)</p></li>
<li><p>Fixed an issue where <code>renv::restore()</code> did not respect the named repository within the lockfile when installing packages from the archives of the configured package repositories. (#2081)</p></li>
<li><p>Fixed an issue where <code>renv::snapshot()</code> could fail if invoked within a project containing empty or invalid <code>.ipynb</code> files. (#2073)</p></li>
<li><p>Fixed an issue where R package installation could fail if the project depended on a package whose current version available from the configured package repositories required on a newer version of R than what was currently installed, even if that package need not be updated. (#2071)</p></li>
<li><p>Fixed an issue where <code>RENV_CONFIG_EXTERNAL_LIBRARIES</code> was incorrectly split when using Windows paths. (#2069)</p></li>
<li><p>Fixed an issue where <code>renv</code> failed to restore packages installed from r-universe when the associated lockfile record had no <code>RemoteRef</code> field. (#2068)</p></li>
<li><p><code>renv</code> now detects dependencies from usages of <code>utils::citation()</code>. (#2047)</p></li>
<li><p>Fixed an issue where packages installed from r-universe via an explicit URL remote could not be restored. (#2060)</p></li>
<li><p>Fixed an issue where the repositories provided to <code>renv::init()</code> were ignored when also initializing <code>renv</code> with a specific version of Bioconductor.</p></li>
<li><p><code>renv::install()</code> gains the <code>include</code> parameter, which can be useful when you’d like to install a subset of dependencies within a project while also respecting any declared remotes in that project’s <code>DESCRIPTION</code> file. (#2055)</p></li>
<li><p>Fixed an issue where <code>renv</code> could fail to check for updates for packages installed using <code>pak</code> without an explicit branch specified. (#2040)</p></li>
<li><p><code>renv::use()</code> no longer re-installs packages which are already installed and compatible with the requested packages. (#2044)</p></li>
<li><p>Fixed an issue where <code>renv::init()</code> could fail when using named remotes in a DESCRIPTION file’s <code>Remotes:</code> field. (#2055)</p></li>
<li><p>Fixed an issue where ignore rules of the form <code>!*.*</code> were not parsed and handled correctly during dependency discovery. (#2052)</p></li>
<li><p>Fixed an issue where <code>renv</code> erroneously reported that installed packages were cached when the cache was not writable. (#2041).</p></li>
<li><p><code>renv</code> now supports updating of currently-installed packages via <code>renv::install()</code> when configured to use <code>pak</code>. (#2037)</p></li>
<li><p>Fixed an issue where <code>renv</code> library paths were not properly reset following a suspend / resume in RStudio Server. (#2036)</p></li>
<li><p><code>renv::run()</code> gains the <code>args</code> parameter, which can be used to pass command-line arguments to a script. (#2015)</p></li>
<li><p><code>renv</code> now infers a dependency on <code>rmarkdown</code> and <code>knitr</code> for R scripts which include YAML front-matter. (#2023)</p></li>
<li><p>The performance of <code>renv</code>’s built-in JSON reader has been improved. (#2021)</p></li>
<li><p>Fixed an issue where <code>renv</code> could erroneously create a binding <span style="white-space:nowrap">called ‹</span>object› in the global environment on startup. (#2017)</p></li>
</ul>
</section>
</section>
<section id="renv-1.0.11" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> renv 1.0.11</h1>
<ul>
<li><p>Fixed an issue where headers were not properly passed to <code>available.packages()</code> during <code>renv</code> bootstrap. (#1942)</p></li>
<li><p><code>renv</code> now assumes that Artifactory package repositories will use a CRAN-like layout of packages for packages in the archive. (#1996)</p></li>
<li><p><code>renv</code> now includes compiled extensions on Linux + macOS. These extensions are primarily used to improve the performance of <code>renv::dependencies()</code> and other static analysis code. Support for Windows may come in a future release.</p></li>
<li><p>Fixed an issue where <code>renv::snapshot()</code> could fail if the project contained a call to <code>module()</code> with no arguments. (#2007)</p></li>
<li><p>On Linux, <code>renv</code> now emits a message on load if the R temporary directory is within a folder that has been mounted <span style="white-space:nowrap">as ‹</span>noexec›. This message can be suppressed by setting the <code>RENV_TEMPDIR_NOEXEC_CHECK=FALSE</code> environment variable.</p></li>
</ul>
</section>
<section id="renv-1.0.10" class="level1" data-number="8">
<h1 data-number="8"><span class="header-section-number">8</span> renv 1.0.10</h1>
<ul>
<li><p>Fixed a performance regression in <code>renv::dependencies()</code>. (#1999)</p></li>
<li><p>Fixed an issue where <code>renv</code> tests could fail if the <code>parallel</code> package was loaded during test execution.</p></li>
<li><p><code>renv</code> now determines a package repository’s type through the HTTP headers provided when accessing <code>src/contrib/PACKAGES</code>. This is mainly relevant when detecting Nexus and Artifactory repositories.</p></li>
</ul>
</section>
<section id="renv-1.0.9" class="level1" data-number="9">
<h1 data-number="9"><span class="header-section-number">9</span> renv 1.0.9</h1>
<ul>
<li><p>Fixed an issue where repository URLs were inappropriately transformed into binary repository URLs on Linux. (#1991)</p></li>
<li><p>Fixed an issue where code following <code>source("renv/activate.R")</code> in the project <code>.Rprofile</code> was not invoked for projects using RStudio. (#1990)</p></li>
</ul>
</section>
<section id="renv-1.0.8" class="level1" data-number="10">
<h1 data-number="10"><span class="header-section-number">10</span> renv 1.0.8</h1>
<ul>
<li><p><code>renv</code> now infers a dependency on the <code>ragg</code> package when the <code>ragg_png</code> device is used in R Markdown / Quarto documents, for documents using the code <code>knitr::opts_chunk$set(dev = "ragg_png")</code>. (#1985)</p></li>
<li><p><code>renv</code> now automatically generates a lockfile when loading a project containing a <code>manifest.json</code> file (typical for application bundles published to Posit Connect). (#1980, <span class="citation" data-cites="toph-allen">(<a href="#ref-toph-allen" role="doc-biblioref"><strong>toph-allen?</strong></a>)</span>)</p></li>
<li><p><code>renv::install()</code> now errs if an incompatible <code>type</code> argument is provided.</p></li>
<li><p><code>renv::checkout()</code> now also checks out the version of <code>renv</code> available and associated with the requested snapshot date. (#1966)</p></li>
<li><p>Fixed an issue where <code>renv::hydrate()</code> did not hydrate packages which were also listed as dependencies within a project’s <code>DESCRIPTION</code> file. (#1970)</p></li>
<li><p>Fixed an issue where <code>renv::checkout()</code> omitted some fields from lockfile records when using <code>actions = c("snapshot", "restore")</code>. (#1969)</p></li>
<li><p><code>renv</code> gains the function <code>renv::retrieve()</code>, which can be used to download packages without installing them. This is primarily useful in CI / CD scenarios, where you might want to download packages in a single stage before attempting to install / restore them. (#1965)</p></li>
<li><p><code>renv</code> now preserves <code>Remote</code> fields present on packages installed from public package repositories (e.g.&nbsp;<a href="https://r-universe.dev/" class="uri">https://r-universe.dev/</a>). (#1961)</p></li>
<li><p>Fixed an issue where <code>renv::load()</code> could fail to load an alternate project when <code>options(renv.config.autoloader.enabled = FALSE)</code> was set. (#1959)</p></li>
<li><p><code>renv</code> now emits clickable hyperlinks for runnable code snippets and help, for front-ends which support the <code>ide:run</code> and <code>ide:help</code> ANSI escapes.</p></li>
<li><p><code>renv::init(bioc = "&lt;version&gt;")</code> now prompts the user in interactive sessions when requesting a version of Bioconductor which is not compatible with the current version of R. (#1943)</p></li>
<li><p><code>renv::restore()</code> gains the <code>transactional</code> argument, which can be used to control whether <code>renv</code> will allow successfully-installed packages remain in the project library even if a package fails to install during a later step. (#1109)</p></li>
<li><p><code>renv</code> now infers a dependency on the <code>xml2</code> package for projects using the <code>testthat::JunitReporter</code> for tests. (#1936)</p></li>
<li><p>Fixed an issue where <code>renv::dependencies()</code> could emit a warning when attempting to parse chunks using chunk options like <code>#| eval: c(1, 2)</code>. (#1906)</p></li>
<li><p><code>renv::install()</code> now properly delegates the <code>type</code> and <code>rebuild</code> arguments to <code>pak</code> when <code>options(renv.config.pak.enabled = TRUE)</code> is set. (#1924)</p></li>
<li><p><code>renv</code> now infers a dependency on the <code>svglite</code> package if it detects calls of the form <code>ggsave(filename = "path.svg")</code>. (#1930)</p></li>
<li><p><code>renv</code> now supports setting of GitHub authentication credentials via any of <code>GITHUB_TOKEN</code>, <code>GITHUB_PAT</code>, and <code>GH_TOKEN</code>. (#1937)</p></li>
<li><p><code>renv</code> now also passes any custom headers available to <code>utils::available.packages()</code> during bootstrap. (#1942)</p></li>
<li><p>Fixed an issue where <code>renv</code> could fail during installation of packages stored within repository sub-directories, if that repository also contained a top-level DESCRIPTION file. (#1941)</p></li>
<li><p><code>renv</code> now normalizes lockfile entries for Bioconductor packages installed via <code>pak::pkg_install()</code>, to help prevent spurious diffs being produced via <code>renv::status()</code>. (#1920)</p></li>
<li><p><code>renv::install()</code> now respects the <code>prompt</code> parameter when <code>pak</code> is enabled, as via <code>options(renv.config.pak.enabled = TRUE)</code>. (#1907)</p></li>
<li><p>Fixed an issue with <code>renv</code>’s <code>pak</code> integration where <code>renv</code> could install the wrong version of a GitHub package during restore if <code>options(renv.config.pak.enabled = TRUE)</code> was set. (#1883)</p></li>
<li><p><code>renv</code> no longer interacts with the user during autoloading, which coincides with R startup. If the IDE offers a session init hook (RStudio does), loading is deferred until startup is complete and interaction is possible. Otherwise, any suggested renv actions, such as <code>renv::restore()</code>, are emitted as a message for the user to act on. (#1879, #1915).</p></li>
<li><p>Fixed an issue where installation of packages from local sources, as via <code>install("&lt;package&gt;", repos = NULL, type = "source")</code>, could fail. (#1880)</p></li>
<li><p>A new function, <code>renv::lockfile_validate()</code>, can be used to validate your <code>renv.lock</code> against a default or custom schema. (#1889)</p></li>
</ul>
</section>
<section id="renv-1.0.7" class="level1" data-number="11">
<h1 data-number="11"><span class="header-section-number">11</span> renv 1.0.7</h1>
<ul>
<li>Fixed an issue where <code>renv</code>’s activate script failed to report version conflict errors when starting up. (#1874)</li>
</ul>
</section>
<section id="renv-1.0.6" class="level1" data-number="12">
<h1 data-number="12"><span class="header-section-number">12</span> renv 1.0.6</h1>
<ul>
<li><p>Fixed an issue where downloads could fail with curl &gt;= 8.7.1. (#1869)</p></li>
<li><p>Fixed an issue where <code>renv::snapshot()</code> did not properly normalize package records generated from packages installed using the <code>pak</code> package, e.g.&nbsp;via <code>pak::pkg_install("cran::&lt;package&gt;")</code>.</p></li>
<li><p>Fixed an issue where <code>renv</code> could incorrectly prompt the user to record a version of <code>renv</code> installed from GitHub in some cases. (#1857)</p></li>
<li><p><code>renv::load()</code> now delegates to <code>base::load()</code> when it detects that the call was likely intended for <code>base::load()</code>, but <code>renv::load()</code> was used instead (e.g.&nbsp;because <code>base::load()</code> was masked by <code>renv::load()</code>).</p></li>
<li><p><code>renv::update()</code> gains the <code>lock</code> argument, which can be used to instruct <code>renv</code> to automatically update the lockfile after the requested packages have been updated. (#1849)</p></li>
<li><p>Fixed an issue where <code>renv</code> could fail to update the project autoloader after calling <code>renv::upgrade()</code>. (#1837)</p></li>
<li><p>Fixed an issue where attempts to install binary packages from older PPM snapshots could fail. (#1839)</p></li>
<li><p><code>renv</code> now uses a platform-specific prefix on Linux for library and cache paths by default with R (&gt;= 4.4.0). This is equivalent to setting <code>RENV_PATHS_PREFIX_AUTO = TRUE</code>. If necessary, this behavior can be disabled by setting <code>RENV_PATHS_PREFIX_AUTO = FALSE</code> in an appropriate R startup file. (#1211)</p></li>
</ul>
</section>
<section id="renv-1.0.5" class="level1" data-number="13">
<h1 data-number="13"><span class="header-section-number">13</span> renv 1.0.5</h1>
<ul>
<li><p><code>renv</code> now only writes a <code>.renvignore</code> file into the cache directory if the cache appears to be part of the current project.</p></li>
<li><p><code>renv</code> now reports missing system libraries as part of its ABI checks in <code>renv::diagnostics()</code>.</p></li>
<li><p>Fixed an issue where <code>renv::install(lock = TRUE)</code> produced lockfiles containing records with extraneous data. (#1828)</p></li>
</ul>
</section>
<section id="renv-1.0.4" class="level1" data-number="14">
<h1 data-number="14"><span class="header-section-number">14</span> renv 1.0.4</h1>
<ul>
<li><p><code>renv::install()</code> gains the <code>lock</code> argument. When <code>TRUE</code>, the project lockfile will be updated after the requested packages have been successfully installed. (#1811)</p></li>
<li><p><code>renv</code> now supports the use of GitHub Enterprise servers with the <code>gitcreds</code> package for authentication credentials. (#1814)</p></li>
<li><p><code>renv::dependencies()</code> now treats <code>#| eval: !expr &lt;...&gt;</code> chunk options as truthy by default, implying that such chunks are scanned for their R package dependencies. (#1816)</p></li>
<li><p><code>renv::dependencies()</code> now requires usages of the <a href="https://cran.r-project.org/package=import">import</a> package to be namespace-qualified in order to be handled via static analysis; that is, <code>import::from(&lt;pkg&gt;)</code> is parsed for dependencies, but <code>from(pkg)</code> is not. (#1815)</p></li>
<li><p><code>renv::load()</code> gains the <code>profile</code> argument, allowing one to explicitly load a specific profile associated with an <code>renv</code> project. See <code>vignette("profiles", package = "renv")</code> or https://rstudio.github.io/renv/articles/profiles.html for more details.</p></li>
<li><p><code>renv::dependencies()</code> no longer includes <code>R</code> dependency versions declared from a <code>DESCRIPTION</code> file in its output. (#1806)</p></li>
<li><p>Fixed an issue where <code>renv</code> could fail to infer dependencies from R Markdown code chunks using <span style="white-space:nowrap">engine ‹</span>R› (upper-case) rather than ‹r› (lower-case). (#1803)</p></li>
<li><p>Fixed an issue where <code>renv</code> did not report out-of-sync packages when one or more packages used in the project were not installed. (#1788)</p></li>
<li><p>Fixed an issue where <code>renv</code> could over-aggressively activate P3M repositories when initializing a project. (#1782)</p></li>
<li><p><code>renv::status()</code> now notifies the user if the version of R recorded in the lockfile does not match the version of R currently in use. (#1779)</p></li>
<li><p>Fixed an issue where packages could appear multiple times in the lockfile, if that package was installed into multiple library paths. (#1781)</p></li>
<li><p>Installation of historical binaries of packages is once again enabled, now using the <a href="https://packagemanager.posit.co">Posit Public Package Manager (P3M)</a> service instead of Microsoft’s (now defunct) MRAN service.</p></li>
<li><p><code>renv::init()</code> now respects the <code>Remotes:</code> field declared in a project’s <code>DESCRIPTION</code> file, if any. (#1522)</p></li>
<li><p><code>renv::embed()</code> now supports Quarto Markdown (<code>.qmd</code>) files. (#1700)</p></li>
<li><p>renv now sets the <code>R_INSTALL_TAR</code> environment variable to match the default <code>tar</code> executable (if any) when installing packages. (#1724)</p></li>
<li><p>renv now uses <code>--ssl-revoke-best-effort</code> by default when downloading files using <code>curl</code> on Windows. (#1739)</p></li>
<li><p>Fixed an issue where <code>renv::install()</code> could fail to detect incompatible recursive package dependencies. (#1671)</p></li>
<li><p><code>renv::install()</code> now records remote information for packages installed from CRAN-like repositories, and uses that information when generating a lockfile and restoring those packages. This helps ensure that packages installed within an renv project via calls like <code>renv::install("&lt;pkg&gt;", repos = "&lt;repos&gt;")</code> can still be successfully restored in future sessions. (#1765)</p></li>
<li><p><code>renv::install()</code> now lazily resolves project remotes. (#1755)</p></li>
<li><p><code>renv::init()</code> now respects Remotes declared within a project’s <code>DESCRIPTION</code> file, if any.</p></li>
<li><p>Calling <code>renv::activate()</code> without explicitly providing the <code>profile</code> argument now preserves the current profile, if any. Use <code>renv::activate(profile = "default")</code> if you’d like to re-activate a project using the default profile. (#1217)</p></li>
<li><p>Fixed an issue where <code>renv</code> would try to prompt for the installation of <code>BiocManager</code> when activating a project using Bioconductor. (#1754)</p></li>
<li><p>Fixed an issue where directories containing a large number of files could cause <code>renv</code> to fail to activate a project. (#1733)</p></li>
<li><p>Expanded the set of Linux distributions detected for automatic transformation of Posit Package Manager URLs to install binary packages. <code>renv</code> now correctly detects Red Hat Enterprise Linux 9, Rocky Linux 8 and 9, SLES 15 SP4 and SP5, Debian 11 and 12, AlmaLinux 8 and 9, and Amazon Linux 2. (#1720, #1721)</p></li>
</ul>
</section>
<section id="renv-1.0.3" class="level1" data-number="15">
<h1 data-number="15"><span class="header-section-number">15</span> renv 1.0.3</h1>
<ul>
<li><p>Fixed an issue where <code>renv</code> could warn the project appeared to be out-of-sync when using packages installed without an explicit source recorded. (#1683)</p></li>
<li><p><code>renv::install()</code> gains the <code>exclude</code> argument, which can be useful when installing a subset of project dependencies.</p></li>
<li><p>Fixed an issue where PPM repositories were not appropriately transformed into the correct binary repository in <code>renv::restore()</code> when using pak.</p></li>
<li><p><code>renv::init()</code> no longer prompts the user for the intended action for projects containing a library with only renv installed. (#1668)</p></li>
<li><p>Fixed an issue where non-interactive usages of <code>renv::init()</code> could fail with projects containing a DESCRIPTION file. (#1663)</p></li>
<li><p>Fixed an issue that could cause code within a project <code>.Rprofile</code> to execute before the project had been loaded in RStudio. (#1650)</p></li>
<li><p><code>renv::snapshot()</code> and <code>renv::status()</code> gain the <code>dev</code> argument. This can be used when you’d like to capture package dependencies from the <em>Suggests</em> field of your package’s DESCRIPTION file. (#1019)</p></li>
</ul>
</section>
<section id="renv-1.0.2" class="level1" data-number="16">
<h1 data-number="16"><span class="header-section-number">16</span> renv 1.0.2</h1>
<ul>
<li><p>renv now parses package <code>NAMESPACE</code> files for imported dependencies. (#1637)</p></li>
<li><p>renv no longer locks the sandbox by default.</p></li>
<li><p>Fixed an issue where renv used the wrong library paths when attempting to activate the watchdog. This could cause a 10 second delay when activating the sandbox.</p></li>
</ul>
</section>
<section id="renv-1.0.1" class="level1" data-number="17">
<h1 data-number="17"><span class="header-section-number">17</span> renv 1.0.1</h1>
<ul>
<li><p>Fixed an issue where authentication headers could be duplicated when using the <code>libcurl</code> download method. (#1605)</p></li>
<li><p><code>renv::use()</code> now defaults to setting <code>isolate = TRUE</code> when <code>sandbox = TRUE</code>.</p></li>
<li><p>Fixed an issue where the renv watchdog could fail to load, leading to slowness in activating the sandbox on startup. (#1617)</p></li>
<li><p>Fixed an issue where renv did not display warnings / errors from <code>renv::snapshot()</code> when <code>options(renv.verbose = FALSE)</code> was set. The display of these messages is now controlled via the <code>renv.caution.verbose</code> R option. (#1607, #1608)</p></li>
<li><p><code>renv::load()</code> now notifies the user if the synchronization check took an excessive amount of time due to the number of files being scanned in the project. (#1573)</p></li>
<li><p><code>renv::init()</code> gains the <code>load</code> argument, making it possible to initialize a project without explicitly loading it. (#1583)</p></li>
<li><p>renv now uses a lock when synchronizing installed packages with the cache. This should help alleviate issues that can arise when multiple R processes are installing and caching packages concurrently. (#1571)</p></li>
<li><p>Fixed a regression in parsing expressions within R Markdown chunk options. (#1558)</p></li>
<li><p>Fixed an issue that prevented <code>renv::install()</code> from functioning when source-only repositories were included. (#1578)</p></li>
<li><p>Fixed a logic error in reading <code>RENV_AUTOLOAD_ENABLED</code>. (#1580)</p></li>
<li><p><code>renv::restore()</code> no longer runs without prompting on load if the library is empty. (#1543)</p></li>
<li><p><code>renv::repair()</code> now checks for installed packages which lack a known remote source, and updates their <code>DESCRIPTION</code> files if it can infer an appropriate remote source. This typically occurs when a package is installed from local sources, but appears to be maintained or published on a remote repository (e.g.&nbsp;GitHub). This was previously done in <code>renv::snapshot()</code>, but we’ve rolled back that change as the prompting was over-aggressive. (#1574)</p></li>
<li><p><code>renv::status()</code> now first reports on uninstalled packages, before reporting on used &lt;-&gt; installed mismatches. (#1538)</p></li>
<li><p>When the <code>RENV_STARTUP_DIAGNOSTICS</code> environment variable is set to <code>TRUE</code>, renv now displays a short diagnostics report after a project’s autoloader has been run. This can be useful when diagnosing why renv is slow to load in certain projects. (#1557)</p></li>
<li><p>renv now ensures the sandbox is activated on load, for R processes which are launched with the renv sandbox on the library paths. (#1565)</p></li>
<li><p><code>renv::restore()</code> no longer erroneously prompts when determining the packages which need to be installed. (#1544)</p></li>
<li><p><code>renv::update()</code> now ensures the <code>prompt</code> parameter is properly respected during package installation. (#1540)</p></li>
<li><p><code>renv::activate()</code> no longer erroneously preserves the previous library paths after restarting the session within RStudio. (#1530)</p></li>
<li><p>Use correct spelling of IRkernel package (#1528).</p></li>
<li><p>Honor <code>R_LIBCURL_SSL_REVOKE_BEST_EFFORT</code> when using an external <code>curl.exe</code> binary to download files. (#1624)</p></li>
</ul>
</section>
<section id="renv-1.0.0" class="level1" data-number="18">
<h1 data-number="18"><span class="header-section-number">18</span> renv 1.0.0</h1>
<section id="new-features" class="level2" data-number="18.1">
<h2 data-number="18.1" class="anchored" data-anchor-id="new-features"><span class="header-section-number">18.1</span> New features</h2>
<ul>
<li><p>New <code>renv::checkout()</code> installings the latest-available packages from a repository. For example, <code>renv::checkout(date = "2023-02-08")</code> will install the packages available on 2023-02-08 from the Posit <a href="https://packagemanager.rstudio.com/">Package Manager</a> repository. The <code>actions</code> argument allows you choose whether a lockfile is generated from the provided repositories (<span style="white-space:nowrap">« </span>snapshot<span style="white-space:nowrap"> »</span>), or whether packages are installed from the provided repositories (<span style="white-space:nowrap">« </span>restore<span style="white-space:nowrap"> »</span>).</p></li>
<li><p><code>renv::deactivate()</code> gains a <code>clean</code> argument: when <code>TRUE</code> it will delete all renv files/directories, leaving the project the way it was found.</p></li>
<li><p><code>renv::init()</code> now uses <a href="https://packagemanager.posit.co">Posit Public Package Manager</a> by default, for new projects where the repositories have not already been configured externally. See the options <code>renv.config.ppm.enabled</code>, <code>renv.config.ppm.default</code>, and <code>renv.config.ppm.url</code> in <code>?config</code> for more details (#430).</p></li>
<li><p><code>renv::lockfile_create()</code>, <code>renv::lockfile_read()</code>, <code>renv::lockfile_write()</code> and <code>renv::lockfile_modify()</code> provide a small family of functions for interacting with renv lockfiles programmatically (#1438).</p></li>
<li><p>Handling of development dependencies has been refined. <code>renv::snapshot()</code> and <code>renv::status()</code> no longer track development dependencies, while <code>install()</code> continues to install them (#1019). <code>Suggested</code> packages listed in <code>DESCRIPTION</code> files are declared as development dependencies regardless of whether or not they’re a <span style="white-space:nowrap">« </span>package<span style="white-space:nowrap"> »</span> project.</p></li>
<li><p>MRAN integration is now disabled by default, pending the upcoming shutdown of Microsoft’s MRAN service. Users who require binaries of older R packages on Windows + macOS can consider using the instance of CRAN mirrored by the <a href="https://packagemanager.posit.co">Posit Public Package Manager</a> (#1343).</p></li>
</ul>
</section>
<section id="bug-fixes-and-minor-improvements" class="level2" data-number="18.2">
<h2 data-number="18.2" class="anchored" data-anchor-id="bug-fixes-and-minor-improvements"><span class="header-section-number">18.2</span> Bug fixes and minor improvements</h2>
<ul>
<li><p>Development versions of renv are now tracked using the Git SHA of the current commit, rather than a version number that’s incremented on every change (#1327). This shouldn’t have any user facing impact, but makes renv maintenance a little easier.</p></li>
<li><p>Fixed an issue causing <span style="white-space:nowrap">« </span>restarting interrupted promise evaluation<span style="white-space:nowrap"> »</span> warnings to be displayed when querying available packages failed. (#1260)</p></li>
<li><p><code>renv::activate()</code> uses a three option menu that hopefully make your choices more clear (#1372).</p></li>
<li><p><code>renv::dependencies()</code> now discovers R package dependencies inside Jupyter notebooks (#929).</p></li>
<li><p><code>renv::dependencies()</code> includes packages used by user profile (<code>~/.Rprofile</code>) if <code>renv::config$user.profile()</code> is <code>TRUE</code>. They are set as development dependencies, which means that they will be installed by <code>install()</code> but not recorded in the snapshot.</p></li>
<li><p><code>renv::dependencies()</code> only extracts dependencies from text in YAML headers that looks like valid R code (#1288).</p></li>
<li><p><code>renv::dependencies()</code> no longer treats <code>box::use(module/file)</code> as using package <code>module</code> (#1377).</p></li>
<li><p><code>renv::init()</code> now prompts the user to select a snapshot type if the project contains a top-level DESCRIPTION file (#1485).</p></li>
<li><p><code>renv::install(type = "source")</code> now ensures source repositories are used in projects using <a href="https://packagemanager.posit.co/">PPM</a>. (#927)</p></li>
<li><p><code>renv::install()</code> activates Bioconductor repositories when installing a package from a remote (e.g.&nbsp;GitHub) which declares a Bioconductor dependency (via a <span style="white-space:nowrap">non-empty ‹</span>biocViews› field) (#934).</p></li>
<li><p><code>renv::install()</code> respects the project snapshot type, if set.</p></li>
<li><p><code>renv::install()</code> now keeps source when installing packages from source (#522).</p></li>
<li><p><code>renv::install()</code> now validates that binary packages can be loaded after installation, in a manner similar to source packages (#1275).</p></li>
<li><p><code>renv::install()</code> now supports Bioconductor remotes of the form <code>bioc::&lt;BiocVersion&gt;/&lt;Package&gt;</code>, for installing packages from a particular version of Bioconductor. Aliases <span style="white-space:nowrap">like ‹</span>release› and ‹devel› are also supported (#1195).</p></li>
<li><p><code>renv::install()</code> now requires interactive confirmation that you want to install packages (#587).</p></li>
<li><p><code>renv::load()</code> gives a more informative message if a lockfile is present but no packages are installed (#353).</p></li>
<li><p><code>renv::load()</code> no longer attempts to query package repositories when checking if a project is synchronized (#812).</p></li>
<li><p><code>renv::load()</code> no longer duplicates entries on the <code>PATH</code> environment variable (#1095).</p></li>
<li><p><code>renv::restore()</code> can now use <code>pak::pkg_install()</code> to install packages when <code>pak</code> integration is enabled. Set <code>RENV_CONFIG_PAK_ENABLED = TRUE</code> in your project’s <code>.Renviron</code> if you’d like to opt-in to this behavior. Note that this requires a nightly build of <code>pak</code> (&gt;= 0.4.0-9000); see https://pak.r-lib.org/dev/reference/install.html for more details.</p></li>
<li><p><code>renv::restore()</code> now emits an error if called within a project that does not contain a lockfile (#1474).</p></li>
<li><p><code>renv::restore()</code> correctly restores packages downloaded and installed from <a href="https://r-universe.dev/">r-universe</a> (#1359).</p></li>
<li><p><code>renv::snapshot()</code> now standardises pak metadata so CRAN packages installed via pak look the same as CRAN packages installed with renv or <code>install.packages()</code> (#1239).</p></li>
<li><p>If <code>renv::snapshot()</code> finds missing packages, a new prompt allows you to install them before continuing (#1198).</p></li>
<li><p><code>renv::snapshot()</code> no longer requires confirmation when writing the first snapshot, since that’s an action that can easily be undone (by deleting <code>renv.lock</code>) (#1281).</p></li>
<li><p><code>renv::snapshot()</code> reports if the R version changes, even if no packages change (#962).</p></li>
<li><p><code>renv::snapshot(exclude = &lt;...&gt;)</code> no longer warns when attempting to exclude a package that is not installed (#1396).</p></li>
<li><p><code>renv::status()</code> now uses a more compact display when packages have some inconsistent combination of being installed, used, and recorded.</p></li>
<li><p><code>renv::status()</code> now works more like <code>renv::restore()</code> when package versions are different (#675).</p></li>
<li><p><code>renv::update()</code> can now update packages installed from GitLab (#136) and BitBucket (#1194).</p></li>
<li><p><code>renv::settings$package.dependency.fields()</code> now only affects packages installed directly by the user, not downstream dependencies of those packages.</p></li>
<li><p>renv functions give a clearer error if <code>renv.lock</code> has somehow become corrupted (#1027).</p></li>
</ul>
</section>
</section>
<section id="renv-0.17.3" class="level1" data-number="19">
<h1 data-number="19"><span class="header-section-number">19</span> renv 0.17.3</h1>
<ul>
<li><p>Fixed an issue where <code>renv::install("bioc::&lt;package&gt;")</code> could fail if <code>BiocManager</code> was not already installed. (#1184)</p></li>
<li><p>Fixed an issue where package names were not included in the output of <code>renv::diagnostics()</code>. (#1182)</p></li>
<li><p>The clarity of the message printed by <code>renv::status()</code> has been improved; in particular, renv should better report the recommended actions when a package required by the project is not installed.</p></li>
<li><p><code>renv::snapshot()</code> gains the <code>exclude</code> argument, for explicitly excluding certain packages from the generated lockfile.</p></li>
<li><p>Fixed an issue where renv was passing the wrong argument name to <code>installed.packages()</code>, causing usages of renv to fail with R (&lt;= 3.4.0). (#1173)</p></li>
<li><p>renv now sets the <code>SDKROOT</code> environment variable on macOS if it detects that R was built using an LLVM build of <code>clang</code> on macOS.</p></li>
<li><p><code>renv::install()</code> now parses the remotes included within, for example, a <code>DESCRIPTION</code> file’s <code>Config/Needs/...</code> field.</p></li>
<li><p>renv now checks that the index directory is writable before attempting to use it, e.g.&nbsp;for the <code>R</code> available packages index maintained by renv. (#1171)</p></li>
<li><p>renv now checks that the version of <code>curl</code> used for downloads appears to be functional, and reports a warning if it does not (for example, because a requisite system library is missing). The version of <code>curl</code> used for downloads can also be configured via the <code>RENV_CURL_EXECUTABLE</code> environment variable.</p></li>
</ul>
</section>
<section id="renv-0.17.2" class="level1" data-number="20">
<h1 data-number="20"><span class="header-section-number">20</span> renv 0.17.2</h1>
<ul>
<li>Fixed a regression that caused package hashes to be computed incorrectly in some cases. This was a regression in the 0.17.1 release. (#1168)</li>
</ul>
</section>
<section id="renv-0.17.1" class="level1" data-number="21">
<h1 data-number="21"><span class="header-section-number">21</span> renv 0.17.1</h1>
<ul>
<li><p>renv gains the configuration option <code>install.remotes</code>, which can be used to control whether renv attempts to read and use the <code>Remotes:</code> field included with installed packages. This can be set to <code>FALSE</code> if you’d like to ignore this field; e.g.&nbsp;because you know they will not be accessible. (#1133)</p></li>
<li><p>General performance optimizations. In particular, <code>renv::update(check = TRUE)</code> should now execute much faster.</p></li>
<li><p>renv now stores project settings within <code>renv/settings.json</code> rather than <code>renv/settings.dcf</code>. Old settings will be automatically migrated.</p></li>
<li><p>The renv sandbox is now placed within the renv cache directory. (#1158)</p></li>
<li><p>Fixed an issue where <code>renv::status()</code> could erroneously report a project was out-of-sync when using explicit snapshots. (#1159)</p></li>
<li><p>Fixed an issue where <code>renv::hydrate()</code> would print spurious warnings. (#1160)</p></li>
<li><p><code>renv::status()</code> now suggests running <code>renv::restore()</code> if there are no packages installed in the project library. (#1060)</p></li>
<li><p>Fixed an issue where renv would fail to query <a href="https://r-universe.dev/">r-universe</a> repositories. (#1156)</p></li>
<li><p>renv no longer tries to set the <code>SDKROOT</code> environment variable on macOS for R (&gt;= 4.0.0).</p></li>
<li><p>Fixed an issue where installation of Bioconductor packages could fail when <code>BiocManager</code> was not installed. (#1156, #1155)</p></li>
<li><p>Fixed an issue where the amount of time elapsed reported by <code>renv::install()</code> failed to include the time spent retrieving packages.</p></li>
</ul>
</section>
<section id="renv-0.17.0" class="level1" data-number="22">
<h1 data-number="22"><span class="header-section-number">22</span> renv 0.17.0</h1>
<ul>
<li><p>The performance of <code>renv::snapshot()</code> has improved.</p></li>
<li><p>renv now maintains an index of available packages, as retrieved from the active package repositories, that is shared across <code>R</code> sessions. This should improve renv’s performance when querying for available packages across multiple different <code>R</code> sessions.</p></li>
<li><p><code>renv::hydrate()</code> gains the <code>prompt</code> parameter. When <code>TRUE</code> (the default), renv will prompt for confirmation before attempting to hydrate the active library.</p></li>
<li><p>Improved handling of package installation via SSH URLs with <code>git</code>. (#667)</p></li>
<li><p>Improved handling of R version validation when using projects with Bioconductor. If you find renv is erroneously reporting that your version of R is incompatible with the version of Bioconductor you are using, you can set <code>options(renv.bioconductor.validate = FALSE)</code> to disable this validation behaviour. (#1148)</p></li>
<li><p>Package names can now be associated with remotes in <code>renv::install()</code>; for example, you can use <code>renv::install("igraph=igraph/rigraph")</code> to install the <code>igraph</code> package. This is mainly important when using the <code>renv.auth</code> authentication tools, where the package name of a remote needs to be declared explicitly. (#667)</p></li>
<li><p>Fixed an issue that could prevent <code>renv::restore()</code> from functioning when attempting to install packages which had been archived on CRAN. (#1141)</p></li>
<li><p><code>renv::install()</code> gains the <code>dependencies</code> argument, which behaves similarly to the equivalent argument in <code>remotes::install_*()</code>. In particular, this can be set to fields like <code>Config/Needs/dev</code> to tell renv to use custom DESCRIPTION fields for dependency resolution in installation.</p></li>
<li><p>Fixed an issue where the function variant of the <code>renv.auth</code> option was not resolved correctly. (#667)</p></li>
<li><p><code>renv::install()</code> now supports remotes with a trailing <span style="white-space:nowrap">slash –</span> such slashes are now removed. (#1135)</p></li>
<li><p>Integration with the RStudio (Posit) Package Manager is now disabled by default on aarch64 Linux instances.</p></li>
<li><p>The <code>RENV_CACHE_MODE</code> environment variable can now also be used to adjust the permissions set on downloaded package tarballs / binaries. (#988)</p></li>
<li><p>Fixed an issue where fields of the form <code>Remotes.1</code> could enter lockfile records for older versions of R. (#736)</p></li>
<li><p>Fixed the performance of <code>renv::update()</code> in cases where integration with MRAN is enabled.</p></li>
<li><p>Fixed an issue where package installation using <code>pak</code> could fail in some cases.</p></li>
<li><p><code>renv_file_find()</code> can now scan up to the root directory in Docker containers. (#1115)</p></li>
<li><p>renv no longer uses the R temporary directory on Windows for the sandbox. The sandbox directory can be customized via the <code>RENV_PATHS_SANDBOX</code> environment variable if required. (#835)</p></li>
<li><p>renv now reports the elapsed time when installing packages. (#1104)</p></li>
<li><p>For projects using <span style="white-space:nowrap">« </span>explicit<span style="white-space:nowrap"> »</span> snapshots, renv now reports if a package is required by the project, but the package is not currently installed. (#949)</p></li>
<li><p>Fixed an issue where <code>renv::snapshot()</code> could fail to detect when no changes had been made to the lockfile.</p></li>
<li><p>Fixed an issue where renv could emit JSON lockfiles which could not be parsed by external JSON readers. (#1102)</p></li>
<li><p>renv now marks the sandbox as non-writable, which should hopefully alleviate issues where attempts to update installed packages would inadvertently install the updated package into the sandbox. (#1090)</p></li>
<li><p><code>renv::use()</code> gains the <code>sandbox</code> argument, which allows one to control whether the system library is sandboxed after a call to <code>renv::use()</code>. (#1083)</p></li>
<li><p>The path to the Conda <code>environment.yml</code> file created by renv can now be customized via the <code>RENV_PATHS_CONDA_EXPORT</code> environment variable. We recommend setting this within your project-local <code>.Renviron</code> file as appropriate. (#1089)</p></li>
<li><p>Fixed an issue where the renv sandbox location did not respect the active renv profile. (#1088)</p></li>
</ul>
</section>
<section id="renv-0.16.0" class="level1" data-number="23">
<h1 data-number="23"><span class="header-section-number">23</span> renv 0.16.0</h1>
<ul>
<li><p>renv now supports installation of packages with remotes of the form <code>&lt;package&gt;=&lt;remote&gt;</code>. However, the provided package name is ignored and is instead parsed from the remote itself. (#1064)</p></li>
<li><p>renv now passes along the headers produced by the <code>renv.download.headers</code> option when bootstrapping itself in the call to <code>utils::download.file()</code>. (#1084)</p></li>
<li><p>renv now reports if <code>renv::snapshot()</code> will change or update the version of R recorded in the lockfile. (#1069)</p></li>
<li><p>renv now supports the <code>install.packages.check.source</code> R option, which is used to allow R to query source repositories even if the option <code>options(pkgType = "binary")</code> is set. (#1074)</p></li>
<li><p>renv better handles packages containing git submodules when installed from GitHub remotes. (#1075)</p></li>
<li><p>renv now handles local sources within the current working directory. (#1079)</p></li>
<li><p>The renv sandbox is once again enabled by default. On Unix, the sandbox is now created by default within the project’s <code>renv/sandbox</code> library. On Windows, the sandbox is created within the R session’s <code>tempdir()</code>. The path to the renv sandbox can be customized via the <code>RENV_PATHS_SANDBOX</code> environment variable if required.</p></li>
<li><p>Fixed an issue where <code>renv::status()</code> could report spurious changes when comparing packages installed using <code>pak</code> in some cases. (#1070)</p></li>
<li><p><code>renv::restore()</code> now also ensures the project activate script is updated after a successful restore. (#1066)</p></li>
<li><p>Fixed an issue where renv could attempt to install a package from the repository archives even when <code>type = "binary"</code> was set. (#1046)</p></li>
<li><p>Fixed an issue where package installation could fail when the R session is configured to use multiple repositories, some of which do not provide any information on available packages for certain binary arms of the repository. (#1045)</p></li>
<li><p>renv now uses <code>jsonlite</code> for reading lockfiles when loaded. This should help ensure useful errors are provided for manually-edited lockfiles which contain a JSON parsing error. If the <code>jsonlite</code> package is not loaded, renv will fall back to its own internal JSON parser. (#1027)</p></li>
<li><p>Fixed an issue that would cause renv to fail to source the user <code>~/.Rprofile</code> if it attempted to register global calling handlers, e.g.&nbsp;as <code>prompt::set_prompt()</code> does. (#1036)</p></li>
<li><p>(Linux only) renv now resets ACLs on packages copied to the cache, to avoid persisting default ACLs that might have been inherited on packages installed into a local project library. If desired, this behavior can be disabled by setting the <code>RENV_CACHE_ACLS</code> environment variable to <code>FALSE</code>. If you need finer control over ACLs set on packages moved into the cache, consider defining a custom callback via the <code>renv.cache.callback</code> R option. (#1025)</p></li>
<li><p>Fixed an issue where <code>.gitignore</code> inclusion rules for sub-directories were not parsed correctly by renv for dependency discovery. (#403)</p></li>
<li><p>Fixed an issue where renv could report spurious diffs within <code>renv::status()</code> when comparing package records installed from <code>pak</code> versus the default R package installer. (#998)</p></li>
<li><p>Fixed an issue where <code>renv::use_python()</code> could cause the Requirements field for packages in the lockfile to be unintentionally dropped. (#974)</p></li>
<li><p>The R option <code>renv.cache.callback</code> can now be set, to run a user-defined callback after a package has been copied into the cache. This can be useful if you’d like to take some action on the cached package’s contents after the package has been moved into the cache.</p></li>
<li><p>(Unix only) The <code>RENV_CACHE_MODE</code> environment variable can now be used to change the access permissions of packages copied into the cache. When set, after a package is copied into the cache, renv will use <code>chmod -Rf</code> to try and change the permissions of the cache entry to the requested permissions.</p></li>
<li><p>(Unix only) The <code>RENV_CACHE_USER</code> environment variable can now be used to change the ownership of folders copied into the cache. When set, after a package is copied into the cache, renv will use <code>chown -Rf</code> to try and change the ownership of that cache entry to the requested user account.</p></li>
<li><p>Fixed an issue where repositories containing multiple packages in sub-directories could fail to install. (#1016)</p></li>
</ul>
</section>
<section id="renv-0.15.5" class="level1" data-number="24">
<h1 data-number="24"><span class="header-section-number">24</span> renv 0.15.5</h1>
<ul>
<li><p>Fixed an issue where indexing of packages in the package cellar could be slow. (#1014)</p></li>
<li><p>Fixed an issue where installation of packages from Bioconductor’s binary Linux package repositories could fail. (#1013)</p></li>
<li><p><code>renv::restore()</code> now supports restoration of packages installed from <a href="https://r-forge.r-project.org/">R-Forge</a>. (#671)</p></li>
<li><p>Fixed an issue where <code>renv::init(bioconductor = TRUE)</code> would not update the version of Bioconductor used if a project setting had already been set.</p></li>
<li><p>It is now possible to <span style="white-space:nowrap">« </span>update<span style="white-space:nowrap"> »</span> an existing lockfile by using <code>renv::snapshot(update = TRUE)</code>. When set, any records existing in the old lockfile, but not the new lockfile, will be preserved. (#727)</p></li>
<li><p>Fixed an issue where renv could fail to parse Git remotes for users whose username contains a number. (#1004)</p></li>
<li><p>renv no longer infers a dependency on the <span style="white-space:nowrap">« </span>quarto<span style="white-space:nowrap"> »</span> R package in projects containing a <code>_quarto.yml</code> file. (#995)</p></li>
<li><p>Fixed an issue where renv could fail to download a package from MRAN if a compatible source package of the same version was available from the active R repositories. (#990)</p></li>
<li><p>renv now reports permission errors during download more clearly. (#985)</p></li>
<li><p>Fixed an issue where <code>RENV_PATHS_LIBRARY_ROOT_ASIS</code> was not interpreted correctly. (#976)</p></li>
<li><p><code>renv::modify()</code> gains the <code>changes</code> argument, which can be used to modify a project lockfile non-interactively.</p></li>
<li><p><code>renv::clean()</code> now returns the project directory, as documented. (#922)</p></li>
<li><p>Fixed an issue where renv could fail to parse embedded YAML chunk options in R Markdown documents. (#963)</p></li>
<li><p>renv now sets default placeholder names for the <code>repos</code> R option, for any repository URLs which happen to be unnamed. (#964)</p></li>
<li><p>Fixed an issue where renv didn’t respect the <code>PATH</code> ordering when discovering Python installations via <code>renv_python_discover()</code>. (#961)</p></li>
<li><p>Fixed an issue where renv could fail to install packages containing multibyte unicode characters in their DESCRIPTION file. (#956)</p></li>
<li><p>Fixed detection of Rtools 4.2 (#1002)</p></li>
</ul>
</section>
<section id="renv-0.15.4" class="level1" data-number="25">
<h1 data-number="25"><span class="header-section-number">25</span> renv 0.15.4</h1>
<ul>
<li>Fixed an issue where package installation could fail when referencing the cache via a tilde-aliased path, e.g.&nbsp;<code>~/.local/share/renv</code>. (#953)</li>
</ul>
</section>
<section id="renv-0.15.3" class="level1" data-number="26">
<h1 data-number="26"><span class="header-section-number">26</span> renv 0.15.3</h1>
<ul>
<li><p>A variety of fixes for R CMD check.</p></li>
<li><p>renv gains an experimental function, <code>renv::autoload()</code>, to be used as a helper for automatically loading a project for R processes launched within a sub-directory of that project. See <code>?renv::autoload</code> for more details.</p></li>
<li><p>renv will now print a warning message when attempting to read a lockfile containing merge conflict markers (as from e.g.&nbsp;a git merge). (#945)</p></li>
<li><p>Fixed an issue where <code>renv::install()</code> could install into the wrong library path on Windows, if the R installation had a site-wide profile that mutated the library paths. (#941)</p></li>
<li><p>Fixed an issue where <code>renv::install()</code> would fail to find a package within the cache when using an abbreviated commit hash for installation. (#943)</p></li>
<li><p>Fixed an issue where renv’s automatic snapshot was not run after calls to <code>renv::install()</code> in some cases. (#939)</p></li>
<li><p>Fixed an issue where renv would incorrectly copy a package from the cache, if the cached version of the package and the requested version of the package had the same package version, even if they were retrieved from different sources. (#938)</p></li>
<li><p>The path to an renv tarball can now be set via the environment variable <code>RENV_BOOTSTRAP_TARBALL</code>, to be used to help renv bootstrap from local sources. This can either be the path to a directory containing renv source tarballs, or the path to the tarball itself.</p></li>
<li><p>Fixed an issue where the R site library would not be appropriately masked for resumed RStudio sessions. (#936)</p></li>
</ul>
</section>
<section id="renv-0.15.2" class="level1" data-number="27">
<h1 data-number="27"><span class="header-section-number">27</span> renv 0.15.2</h1>
<ul>
<li>Fixed issues encountered in R CMD check.</li>
</ul>
</section>
<section id="renv-0.15.1" class="level1" data-number="28">
<h1 data-number="28"><span class="header-section-number">28</span> renv 0.15.1</h1>
<ul>
<li><p>Fixed an issue where renv inadvertently inserted extra newlines into a <code>DESCRIPTION</code> file when adding <code>Remotes</code> fields after install. (#914)</p></li>
<li><p>Fixed an issue where packages installed from a remote sub-directory would fail to install when later re-installed from the cache. (#913)</p></li>
<li><p>renv now recognizes YAML chunk options of the form <code>#| key: value</code> when used in R Markdown documents. (#912)</p></li>
<li><p>Fixed an issue where the R site library was visible in renv projects with the system library sandbox disabled.</p></li>
<li><p>Fixed an issue where renv could update the wrong <code>.gitignore</code> in R processes launched by <code>callr</code> (e.g.&nbsp;in <code>devtools::install</code>). (#910)</p></li>
<li><p>Fixed an issue where renv could fail to read mis-encoded DESCRIPTION files. (#908)</p></li>
<li><p>Fixed an issue where <code>config$cache.symlinks()</code> would report <code>NULL</code> when unset. (#906)</p></li>
</ul>
</section>
<section id="renv-0.15.0" class="level1" data-number="29">
<h1 data-number="29"><span class="header-section-number">29</span> renv 0.15.0</h1>
<ul>
<li><p>The development branch for renv has moved from master to main.</p></li>
<li><p>renv package records in the lockfile now include a <code>Requirements</code> entry, which gives a list of R packages this package depends on in some way. This is primarily for internal use by the <code>pak</code> package.</p></li>
<li><p>Fixed an issue where packages containing DESCRIPTION files using a latin1 encoding would not be read correctly by renv.</p></li>
<li><p>Fixed an issue that could cause <code>renv::dependencies()</code> to fail when a malformed <code>DESCRIPTION</code> file was encountered. (#892)</p></li>
<li><p>The path to the project-local renv folder can now be configured via the <code>RENV_PATHS_RENV</code> environment variable. This can be useful if you’d prefer to store your project’s renv resources within an alternate location in the project. (#472)</p></li>
<li><p>renv now uses an external library by default for R package projects, with the library located within <code>tools::R_user_dir("renv", "cache")</code>. This directory can be configured via the <code>RENV_PATHS_LIBRARY_ROOT</code> environment variable if desired. See <code>vignette("packages", package = "renv")</code> for more details. (#384)</p></li>
<li><p>renv now uses the repositories as defined within the project lockfile (if any) when attempting to bootstrap itself in a project. (#820)</p></li>
<li><p>The renv sandbox is now disabled by <span style="white-space:nowrap">default –</span> see #614 for more details.</p></li>
<li><p>renv gains the function <code>repair()</code>, to be used to attempt to repair the project library when links into the global package cache appear to be broken. (#378)</p></li>
<li><p>Fixed an issue where the staging library used during install could fail to inherit the same directory permissions as the target library itself. (#331)</p></li>
<li><p>Fixed an regression which caused <code>renv::history()</code> to fail. (#886)</p></li>
<li><p>renv gains experimental support for the <a href="https://pak.r-lib.org/">pak</a> package. Set <code>RENV_CONFIG_PAK_ENABLED = TRUE</code> in an appropriate <code>.Renviron</code> file to enable <code>pak</code> integration. When enabled, calls to <code>renv::install()</code> will use <code>pak</code> to download and install packages.</p></li>
<li><p><code>renv::init()</code> gains the <code>bioconductor</code> argument, to be used to initialize a project with a particular Bioconductor release. You can also use <code>renv::init(bioconductor = TRUE)</code> to initialize with the latest-available release for the version of R being used.</p></li>
<li><p>Project settings can now be overridden by setting an R option of the same name. For example, one could force a project to use Bioconductor 3.14 by setting <code>options(renv.settings.bioconductor.version = "3.14")</code> within the project <code>.Rprofile</code> (or similar startup R profile).</p></li>
<li><p>The ad-hoc package repository called <span style="white-space:nowrap">« </span>local sources<span style="white-space:nowrap"> »</span> has been renamed to the <span style="white-space:nowrap">« </span>package cellar<span style="white-space:nowrap"> »</span>. In addition, the path to the cellar is now controlled by the <code>RENV_PATHS_CELLAR</code> environment variable, rather than <code>RENV_PATHS_LOCAL</code>. This change was made to reduce confusion between <span style="white-space:nowrap">« </span>local sources<span style="white-space:nowrap"> »</span> of packages located somewhere on the filesystem, as opposed to packages explicitly placed in this ad-hoc repository. <code>RENV_PATHS_LOCAL</code> remains supported for backwards compatibility.</p></li>
<li><p>The <code>RENV_PATHS_CELLAR</code> environment variable can now be set to multiple paths. Use <code>;</code> as a separator between paths; for example, <code>RENV_PATHS_LOCAL=/path/to/sources/v1;/path/to/sources/v2</code>. (#550)</p></li>
<li><p>Packages installed via e.g.&nbsp;<code>renv::install("./path/to/package")</code> will now retain the relative path to that package within the lockfile. (#873)</p></li>
<li><p>Fixed an issue where invalid <code>config</code> option values were not properly reported. (#773)</p></li>
<li><p>renv now supports restoration of packages installed via one of the <a href="https://r-universe.dev/">r-universe</a> repositories.</p></li>
<li><p>renv gains the <code>bioconductor.version</code> project setting, used to freeze the version of Bioconductor used in a particular project. When set, this will override any version that might be selected via the <code>BiocManager</code> package. (#864)</p></li>
<li><p>renv now infers that parameterized R Markdown documents have a dependency on the <code>shiny</code> package. In addition, R code included within the <code>params:</code> list will be parsed for dependencies. (#859)</p></li>
<li><p>renv now ignores hidden directories during dependency discovery by default. If you want to force a particular hidden directory to be included for discovery, you can use a <code>.renvignore</code> file with an explicit inclusion criteria; e.g.&nbsp;<code>!.hidden/</code>.</p></li>
<li><p>renv now supports the <code>*release</code> remotes specifier for GitHub repositories, for requesting installation of the latest declared release of a package from GitHub. (#792)</p></li>
<li><p>renv now handles packages stored within the sub-directory of a Git repository better. (#793)</p></li>
<li><p>Fixed an issue where <code>renv::history()</code> would fail to resolve the correct lockfile path if the working directory was changed. (#834)</p></li>
<li><p>Refined dependency discovery within <code>glue::glue()</code> expressions.</p></li>
<li><p>renv now parses packages referenced via the <code>base_format</code> field within an R Markdown document’s YAML header. (#854)</p></li>
<li><p>Fixed an issue where renv would fail to produce the appropriate binary repository URL for RSPM repositories built using Red Hat Enterprise Linux.</p></li>
<li><p>Fixed an issue where <code>renv::snapshot()</code> could cause the environment name and / or path associated with a Python environment to be omitted from the lockfile. (#843)</p></li>
<li><p>Fixed an issue where <code>renv::restore()</code> could fail to restore packages which referred to their source via an explicit path in the <code>Source</code> field. (#849)</p></li>
<li><p>renv no longer requires explicit user consent when used within Singularity containers. (#824, <span class="citation" data-cites="kiwiroy">(<a href="#ref-kiwiroy" role="doc-biblioref"><strong>kiwiroy?</strong></a>)</span>)</p></li>
<li><p>renv now respects the <code>R_PROFILE_USER</code> environment variable, in addition to the <code>user.profile</code> configuration option, when considering whether the user <code>.Rprofile</code> should be examined for package dependencies. (#821)</p></li>
<li><p>The renv auto-loader can now be disabled by setting the environment variable <code>RENV_AUTOLOADER_ENABLED = FALSE</code>. This can be useful if you’d like to explicitly control how a project is loaded, e.g.&nbsp;by calling <code>renv::load()</code> explicitly.</p></li>
<li><p><code>renv::snapshot()</code> gains the <code>repos</code> argument, to be used to force the lockfile to be generated with the requested set of R repositories encoded within.</p></li>
<li><p>renv now validates that the <code>repos</code> option, as used by <code>renv::snapshot()</code>, is a named vector. (#811)</p></li>
<li><p>Fixed an issue where renv’s shims, e.g.&nbsp;for <code>install.packages()</code>, failed to pass along other optional arguments to the shimmed function correctly. (#808)</p></li>
</ul>
</section>
<section id="renv-0.14.0" class="level1" data-number="30">
<h1 data-number="30"><span class="header-section-number">30</span> renv 0.14.0</h1>
<ul>
<li><p>renv now uses <code>tools::R_user_dir()</code> to resolve the default path to the global renv cache, for R installations 4.0.0 or greater. If the renv cache still exists at the old location, that location will be used instead. This change should only affect brand new installations of renv on newer versions of <code>R</code>.</p></li>
<li><p>Fixed an issue with renv tests failing with R (&gt;= 4.2.0).</p></li>
<li><p>renv will no longer auto-activate itself within R processes launched via <code>R CMD INSTALL</code>. This behavior can be controlled if necessary via the <code>RENV_ACTIVATE_PROJECT</code> environment <span style="white-space:nowrap">variable –</span> set this to <code>TRUE</code> to force the project in the current working directory to be activated, and <code>FALSE</code> to suppress the renv auto-loader altogether. (#804)</p></li>
<li><p>Added dependency discovery support for R utility scripts identified by a shebang line instead of a file extension. (#801; <span class="citation" data-cites="klmr">(<a href="#ref-klmr" role="doc-biblioref"><strong>klmr?</strong></a>)</span>)</p></li>
<li><p>Fixed an issue where <code>renv::install("&lt;package&gt;", type = "both")</code> would attempt to install the package from sources, even if the current system did not have the requisite build tools available. (#800)</p></li>
<li><p><code>renv::scaffold()</code> gains the <code>settings</code> argument, used to create a project scaffolding with some default project options set. (#791)</p></li>
<li><p>renv now determines the default branch name for packages installed from GitLab without an explicit reference supplied; for example, as in <code>renv::install("gitlab::&lt;user&gt;/&lt;repo&gt;")</code>. (#795)</p></li>
<li><p>renv now infers a dependency on the <code>bslib</code> package for R Markdown documents using custom themes. (#790)</p></li>
<li><p>renv will now prompt users to activate the current project when calling <code>renv::snapshot()</code> or <code>renv::restore()</code> from within a project that has not yet been activated. (#777)</p></li>
<li><p>renv now has improved handling for <code>git</code> remotes. (#776; <span class="citation" data-cites="matthewstrasiotto">(<a href="#ref-matthewstrasiotto" role="doc-biblioref"><strong>matthewstrasiotto?</strong></a>)</span>)</p></li>
<li><p><code>renv::restore()</code> gains the <code>exclude</code> argument, used to exclude a subset of packages during restore. (#746)</p></li>
<li><p>Fixed an issue where <code>renv::dependencies()</code> could fail to parse dependencies in calls to <code>glue::glue()</code> that used custom open and close delimiters. (#772)</p></li>
<li><p>Fixed an issue where <code>renv::init(bare = TRUE)</code> would unnecessarily scour the project for R package dependencies. (#771)</p></li>
<li><p>Fixed an issue where renv could fail to install packages located on GitHub within sub-subdirectories. (#759)</p></li>
<li><p>renv gains the function <code>embed()</code>, used to embed a lockfile with an R document (via a call to <code>renv::use()</code>).</p></li>
<li><p><code>renv::use()</code> gains the lockfile argument. This can be useful for R Markdown documents and scripts that you’d like to run with the context for a particular lockfile applied.</p></li>
<li><p><code>renv::rebuild()</code> gains the <code>type</code> parameter, for parity with <code>renv::install()</code>.</p></li>
<li><p>Fixed an issue where renv could incorrectly copy an incompatible version of an R package from a site library into the project library during install. (#750)</p></li>
<li><p><code>renv::dependencies()</code> can now parse (some) usages of <code>parsnip::set_engine()</code>.</p></li>
<li><p><code>renv::dependencies()</code> now has improved handling for piped expressions.</p></li>
<li><p>Fixed crash during dependency discovery when encountering <code>box::use()</code> declarations that use a trailing comma, and no longer treat <code>.</code> and <code>..</code> as package names. (<span class="citation" data-cites="klmr">(<a href="#ref-klmr" role="doc-biblioref"><strong>klmr?</strong></a>)</span>)</p></li>
<li><p><code>renv::clean()</code> no longer attempts to clean the system library by default. (#737)</p></li>
<li><p>Fixed an issue where <code>install.packages()</code> could fail when used within an renv project to install a package from local sources. (#724)</p></li>
<li><p>The chunk <code>renv.ignore</code> parameter can now be set to <code>FALSE</code>. When set, renv will explicitly parse dependencies from chunks even if other chunk metadata would have told renv to ignore it (e.g.&nbsp;because it was marked with <code>eval=F</code>). (#722)</p></li>
<li><p>Fixed an issue where chunks with the chunk option <code>eval=F</code> would still be scanned for dependencies. (#421)</p></li>
<li><p>In interactive sessions, <code>renv::use_python()</code> will now prompt for the version of Python to be used. Python installations in a set of common locations will be searched. See <code>?renv::use_python()</code> for more details.</p></li>
<li><p>Fixed an issue where renv would fail to retrieve packages from the archives if the lockfile entry was tagged with a <code>RemoteSha</code> field.</p></li>
<li><p><code>renv::restore()</code> will now prefer restoring packages from the repository named in the <code>Repository</code> field if available. The name is matched against the repository names set in the R <code>repos</code> option, or as encoded in the renv lockfile. (#701)</p></li>
<li><p>renv now supports the discovery of dependencies within interpolated strings as used by the <code>glue</code> package.</p></li>
<li><p><code>RENV_CONFIG_EXTERNAL_LIBRARIES</code> can now be configured to use multiple library paths, delimited by either <code>:</code>, <code>;</code>, or <code>,</code>. (#700)</p></li>
<li><p>renv gains the configuration option, <code>exported.functions</code>, controlling which functions and objects are placed on the R search path when renv is attached (e.g.&nbsp;via <code>library(renv)</code>). Set this to <code>NULL</code> to instruct renv not to place any functions on the search path. This helps avoid issues with, for example, <code>renv::load()</code> masking <code>base::load()</code>. When set, all usages of renv APIs must be explicitly qualified with the <code>renv::</code> prefix.</p></li>
</ul>
</section>
<section id="renv-0.13.2" class="level1" data-number="31">
<h1 data-number="31"><span class="header-section-number">31</span> renv 0.13.2</h1>
<ul>
<li><p><code>renv::install("user/repo/subdir with spaces")</code> now works as expected. (#694)</p></li>
<li><p>renv can now parse package dependencies declared by <code>targets::tar_option_set(packages = &lt;...&gt;)</code>. (#698)</p></li>
<li><p>renv no longer performs an automatic snapshot following a user-canceled renv <span style="white-space:nowrap">action –</span> for example, if <code>renv::restore()</code> is canceled, the next automatic snapshot will be suppressed. (#697)</p></li>
<li><p>Added the <code>vcs.ignore.local</code> project setting, to control whether the project’s <code>renv/local</code> folder is added to renv’s VCS ignore file (e.g.&nbsp;<code>renv/.gitignore</code>). (#696)</p></li>
<li><p>Fixed an issue where renv’s bootstrapping code could inadvertently bootstrap with the wrong version of renv, if the source and binary versions of renv on CRAN were not in sync. (#695)</p></li>
<li><p>Fixed an issue where <code>renv::status()</code> could provide a misleading message for packages which are recorded in the lockfile, but not explicitly required by the project. (#684)</p></li>
</ul>
</section>
<section id="renv-0.13.1" class="level1" data-number="32">
<h1 data-number="32"><span class="header-section-number">32</span> renv 0.13.1</h1>
<ul>
<li><p><code>renv::clean()</code> gains the <code>actions</code> argument, allowing the caller to control which specific actions are taken during a <code>clean()</code> operation.</p></li>
<li><p>renv no longer performs an automatic snapshot after a call to <code>renv::status()</code>. (#651)</p></li>
<li><p>Fixed an issue where attempts to transform RSPM repository URLs could fail if the copy of R was installed without a local <code>CRAN_mirrors.csv</code> file.</p></li>
<li><p>Fixed an issue where <code>renv::init()</code> could fail when passed a relative path to a directory. (#673)</p></li>
<li><p>Fixed an issue where <code>renv::dependencies()</code> would miss dependencies in R Markdown YAML headers containing multiple output formats. (#674)</p></li>
<li><p><code>renv::install()</code> now better respects the <code>Remotes</code> field in a project <code>DESCRIPTION</code> file, if available. (#670)</p></li>
<li><p><code>RENV_DOWNLOAD_METHOD</code> is now treated as an alias for <code>RENV_DOWNLOAD_FILE_METHOD</code>.</p></li>
<li><p>Fixed an issue where renv would fail to load if the <code>~/.Rprofile</code> existed but was an empty file.</p></li>
</ul>
</section>
<section id="renv-0.13.0" class="level1" data-number="33">
<h1 data-number="33"><span class="header-section-number">33</span> renv 0.13.0</h1>
<ul>
<li><p><code>renv::snapshot()</code> no longer creates an <code>renv/activate.R</code> file in the project folder if one does not already exist. (#655)</p></li>
<li><p>The <code>renv::hydrate()</code> function gains the <code>update</code> argument, used to control whether <code>renv::hydrate()</code> chooses to update packages when invoked. When set to <code>TRUE</code>, if the version of a package installed in the source library is newer than that of the project library, then renv will copy that version of the package into the project library. (#647)</p></li>
<li><p>The <code>RENV_PATHS_PREFIX_AUTO</code> environment variable can now be set to instruct renv to include an OS-specific component as part of the library and cache paths. This is primarily useful for Linux systems, where one might want to share a global cache with multiple different operating systems. The path component is constructed from the <code>ID</code> and <code>VERSION_CODENAME</code> / <code>VERSION_ID</code> components of the system’s <code>/etc/os-release</code> file.</p></li>
<li><p>renv’s dependency discovery machinery now has preliminary support for packages imported via the <a href="https://github.com/klmr/box">box</a> package; e.g.&nbsp;<code>box::use(dplyr[...])</code>.</p></li>
<li><p>Multiple cache paths can now be specified, with each cache path separated by either a <code>;</code> or <code>:</code>. This can be useful when you’d like to use multiple package caches within the same project; for example, because you’d like to share a read-only cache with a set of projects. (#653, <span class="citation" data-cites="vandenman">(<a href="#ref-vandenman" role="doc-biblioref"><strong>vandenman?</strong></a>)</span>)</p></li>
<li><p>Fixed an issue where renv could fail to discover dependencies in directories with very large <code>.gitignore</code> or <code>.renvignore</code> files. (#652)</p></li>
<li><p>renv gains a new configuration option, <code>install.shortcuts</code>. When enabled, if renv discovers that a package to be installed is already available in the user or site libraries, renv will instead install a copy of that package into the project library. (#636)</p></li>
<li><p>renv gains a new function, <code>renv::use()</code>, used to download, install, and load a set of packages directly within an R script. <code>renv::use()</code> can make it easier to share a standalone R script, with the packages required to install that script embedded directly in the script. It is inspired in part by the <a href="https://groundhogr.com/">groundhog</a> package.</p></li>
<li><p><code>renv::install(".")</code> can now be used to install a package from sources within the current working directory. (#634)</p></li>
<li><p>Fixed an issue where <code>renv::update()</code> could fail if a package installed from GitHub was missing the <code>RemoteHost</code> field in its DESCRIPTION file. (#632)</p></li>
<li><p>renv now has support for custom project profiles. Profiles can be used to activate different sets of project libraries + lockfiles for different workflows in a given project. See <code>vignette("profiles", package = "renv")</code> for more details.</p></li>
<li><p>Fixed an issue where attempts to initialize an renv project in a path containing non-ASCII characters could fail on Windows. (#629)</p></li>
<li><p>Fixed an issue where <code>renv::install("&lt;package&gt;")</code> could fail if renv chose to install the package from MRAN rather than from one of the active package repositories. (#627)</p></li>
<li><p>renv again defaults to using the project’s <code>renv/staging</code> folder for staged / transactional installs. Use the <code>RENV_PATHS_LIBRARY_STAGING</code> environment variable if more granular control over the staging library path is required. This fixes issues on Windows with creating junction points to the global package cache on Windows. (#584)</p></li>
<li><p>renv no longer skips downloading a requested source package if an existing cached download exists and appears to be valid. This should help avoid issues when attempting to install a package whose associated tarball has changed remotely. (#504)</p></li>
<li><p>During bootstrap, renv will now attempt to download and unpack a binary copy of renv if available from the specified package repositories.</p></li>
<li><p>renv now always attempts to bootstrap itself from the R Project’s Cloud package repository, as a fallback in case no other repository is available. (#613)</p></li>
<li><p><code>renv::rebuild(&lt;package&gt;)</code> now uses the latest-available version of the requested package(s) if those packages are not currently installed.</p></li>
<li><p>Fixed an issue where <code>renv::restore(library = "/path/to/lib")</code> would fail to restore packages, if those packages were already installed on the active library paths (as reported by <code>.libPaths()</code>). (#612)</p></li>
<li><p><code>renv::snapshot()</code> gains the <code>reprex</code> argument. Set this to <code>TRUE</code> if you’d like to embed an renv lockfile as part of a reproducible example, as generated by the <a href="https://www.tidyverse.org/help/#reprex-pkg"><code>reprex</code></a> package.</p></li>
<li><p><code>renv::status()</code> now reports packages that are referenced in a project’s scripts, but are neither installed in the project library nor recorded in the lockfile. (#588)</p></li>
<li><p>Fixed an issue where package installation could fail if the <code>configure.vars</code> option was set to be a named character, rather than a named list. (#609)</p></li>
</ul>
</section>
<section id="renv-0.12.5" class="level1" data-number="34">
<h1 data-number="34"><span class="header-section-number">34</span> renv 0.12.5</h1>
<ul>
<li>Fixed an issue where renv would fail to bootstrap. (#608)</li>
</ul>
</section>
<section id="renv-0.12.4" class="level1" data-number="35">
<h1 data-number="35"><span class="header-section-number">35</span> renv 0.12.4</h1>
<ul>
<li><p>renv now invalidates the available packages cache if the <code>https_proxy</code> environment variable changes. (#579)</p></li>
<li><p><code>renv::install(&lt;pkg&gt;)</code> will now install the latest-available version of that package from local sources, if that package is available and newer than any package available on the active package repositories. (#591)</p></li>
<li><p>The configuration option <code>startup.quiet</code> has been added, allowing one to control whether renv will display the typical startup banner when a project is loaded.</p></li>
<li><p>renv now better handles being unloaded and reloaded within the same R session. In particular, warnings related to a corrupted lazy-load database should no longer occur. (#600)</p></li>
<li><p>renv no longer reinstalls packages that are already installed and up-to-date in bare calls to <code>renv::install()</code>.</p></li>
<li><p>renv now uses the R temporary directory for staging, when performing transactional restores / installs. If you need to control the path used for staged installs, please set the <code>RENV_PATHS_LIBRARY_STAGING</code> environment variable.</p></li>
<li><p>The <code>install.verbose</code> configuration option has been added. When set to <code>TRUE</code>, renv will stream the output generated by R when performing a package installation. This can be helpful in some cases when diagnosing a failed restore / install. (#330)</p></li>
<li><p>Fixed an issue where renv could fail to parse R Markdown chunk headers with an empty label. (#598)</p></li>
<li><p>The environment variable <code>RENV_PATHS_LIBRARY_ROOT_ASIS</code> can now be used to control whether the project name should be used as-is when forming the library path within the <code>RENV_PATHS_LIBRARY_ROOT</code> folder. Set this to <code>"TRUE"</code> if you would prefer renv did not append a unique identifier to your project’s library path. (#593)</p></li>
<li><p>Fixed an issue where GitLab references were not URL encoded. (#590)</p></li>
<li><p>renv no longer emits warnings when parsing multi-mode R files that make use of re-used knitr chunks (those specified as <code>&lt;&lt;label&gt;&gt;</code>). (#586)</p></li>
<li><p>The library used for staged installs can now be configured via the <code>RENV_PATHS_LIBRARY_STAGING</code> environment variable. (#584)</p></li>
<li><p>Fixed an issue where bootstrapping an older version of renv could fail if the R repositories had not been appropriately set.</p></li>
</ul>
</section>
<section id="renv-0.12.3" class="level1" data-number="36">
<h1 data-number="36"><span class="header-section-number">36</span> renv 0.12.3</h1>
<ul>
<li><p>Fixed an issue where <code>renv::dependencies()</code> could give an error if called with a <code>path</code> argument of length &gt; 1.</p></li>
<li><p><code>renv::restore()</code> gains the <code>rebuild</code> argument, allowing users to control whether packages should be rebuilt on <code>restore()</code> rather than installed via links or copies from the cache, or other sources providing already-installed packages.</p></li>
<li><p>renv will now attempt to bootstrap itself from CRAN, in addition to any repositories declared via <code>getOption("repos")</code>. If you’d prefer to disable this behavior, you can set <code>options(renv.bootstrap.repos = character())</code>.</p></li>
<li><p>The renv setting <code>r.version</code> has been added. This can be set if you’d like to associate a particular project with a specific version of R, independent of the version of R actually used when subsequent lockfiles are created via <code>renv::snapshot()</code>. For example, setting <code>renv::settings$r.version("4.0")</code> will ensure that R version <code>"4.0"</code> is encoded in the lockfile for future calls to <code>renv::snapshot()</code> in a project. (#254)</p></li>
<li><p><code>renv::dependencies()</code> now detects the usage of R packages within dotfiles; e.g.&nbsp;the project <code>.Rprofile</code>. (#569)</p></li>
<li><p><code>renv::status()</code> gains the <code>cache</code> argument, used to control whether <code>renv::status()</code> also performs diagnostics on the global package cache. (#570)</p></li>
<li><p>Fixed an issue where <code>renv::status()</code> would make an un-necessary call to <code>renv::dependencies()</code>. (#570)</p></li>
<li><p>Fixed an issue where <code>renv::install("bioc::&lt;package&gt;", rebuild = TRUE)</code> would fail to install the requested package. (#565)</p></li>
<li><p>Fixed an issue where the repository name for a package installed from an R package repository was sometimes incorrect. (#402)</p></li>
<li><p>When <code>RENV_PATHS_LIBRARY_ROOT</code> is set, renv will now disambiguate library paths based on a hash of the project’s path. (#564)</p></li>
</ul>
</section>
<section id="renv-0.12.2" class="level1" data-number="37">
<h1 data-number="37"><span class="header-section-number">37</span> renv 0.12.2</h1>
<ul>
<li>renv no longer errs when running tests with <code>_R_CHECK_SUGGESTS_ONLY_=false</code>.</li>
</ul>
</section>
<section id="renv-0.12.1" class="level1" data-number="38">
<h1 data-number="38"><span class="header-section-number">38</span> renv 0.12.1</h1>
<ul>
<li><p>renv now ensures all of its dependencies are loaded eagerly when running tests, to avoid issues with missing + lazily-loaded packages.</p></li>
<li><p><code>renv::snapshot()</code> now accepts library paths specified with a relative path. (#562)</p></li>
<li><p><code>renv::snapshot()</code> no longer excludes the project itself, for <code>R</code> package projects that use <a href="https://engineering-shiny.org/">golem</a>. (#538)</p></li>
<li><p>The renv configuration option <code>cache.symlinks</code> can now be used to control whether renv used symlinks into the cache, as opposed to full package copies. Please see <code>?renv::config</code> for more details. (#556)</p></li>
<li><p><code>renv::snapshot()</code> gains the <code>packages</code> argument, to be used when creating a lockfile that captures a specific set of packages and their dependencies. renv will use the currently-installed versions of those packages when determining the package records to be written to the lockfile. (#554)</p></li>
<li><p><code>renv::dependencies()</code> now accepts an R function as the first argument, for finding the packages used by a particular function. Currently, package usages must be prefixed with <code>::</code> to be detected. (#554)</p></li>
<li><p><code>renv::record(&lt;package&gt;)</code> now ensures that the latest-available version of that package is recorded in the lockfile. Previously, a package record without any specified version was added instead. For existing records without a recorded version, the latest-available version on the package repositories will be used during <code>restore()</code> instead. (#540)</p></li>
<li><p>renv now reads the default branch tagged for repositories created on GitHub, ensuring that calls of the form <code>renv::install("&lt;user&gt;/&lt;repo&gt;")</code> resolve to the declared default branch, rather than always defaulting to <code>"master"</code>. (#557)</p></li>
<li><p>renv now only installs packages from sources if it detects that build tools are available. This determination is done by checking whether <code>make</code> is available on the <code>PATH</code>. (#552)</p></li>
<li><p>Warnings related to unknown sources can now be suppressed by setting <code>options(renv.warnings.unknown_sources = FALSE)</code>. (#546)</p></li>
<li><p>renv now ignores chunks with the parameter <code>exercise=TRUE</code> set, under the assumption that such chunks might contain errors and so otherwise be un-parsable.</p></li>
<li><p>renv now warns if sandbox generation takes a long time (&gt; 30 seconds).</p></li>
<li><p>renv now provides an optional locking mechanism, to help minimize the chance of interprocess conflicts when multiple R processes need to use the same renv project. The option is currently disabled by default; it can be enabled by setting <code>options(renv.config.locking.enabled = TRUE)</code> in an appropriate R startup file. (#525)</p></li>
</ul>
</section>
<section id="renv-0.12.0" class="level1" data-number="39">
<h1 data-number="39"><span class="header-section-number">39</span> renv 0.12.0</h1>
<ul>
<li><p>renv now uses R’s internal tar implementation by default on Windows. This is done to avoid issues that may occur when a version of <code>tar.exe</code> on the <code>PATH</code> exists, but does not accept Windows-style paths. The <code>TAR</code> environment variable can be set if one needs to explicitly force the use of a particular <code>tar.exe</code> executable. (#521)</p></li>
<li><p>renv now prepends <code>renv (&lt;version&gt;)</code> to the user agent string. This should help ensure that package binaries are located when installing packages from RSPM outside of RStudio. (#520)</p></li>
<li><p>renv now uses a task callback to detect mutations to the project library when the <code>auto.snapshot</code> configuration option is enabled. This will help ensure that automatic snapshots occur when packages are installed via a mechanism not explicitly understood by renv. (#501)</p></li>
<li><p>renv now treats the user + site libraries as package sources during a restore. If renv sees that a package already installed in one of these libraries is compatible with the record requested via <code>renv::install()</code> or <code>renv::restore()</code>, that copy of the package will be copied and used. (#492)</p></li>
<li><p>renv now performs a lighter-weight check as to whether the project lockfile is synchronized with the project library on load. The default value for the <code>synchronized.check</code> config option has been changed back to <code>TRUE</code>. (#496)</p></li>
<li><p>renv now handles the <code>remotes</code> syntax for installing packages lying within the sub-directory of a GitHub repository; that is, <code>renv::install("user/repo/subdir")</code> should work as expected. (#497)</p></li>
<li><p>Fixed an issue where renv did not construct the correct URL for packages to be installed from Bitbucket remotes. (#494)</p></li>
<li><p>Fixed an issue where the <code>RENV_PATHS_PREFIX</code> environment variable was inappropriately normalized when renv was loaded. (#465)</p></li>
</ul>
</section>
<section id="renv-0.11.0" class="level1" data-number="40">
<h1 data-number="40"><span class="header-section-number">40</span> renv 0.11.0</h1>
<ul>
<li><p>Fixed an issue where <code>renv::install(..., type = "binary")</code> would still attempt to install packages from sources in some cases. (#461)</p></li>
<li><p>renv now always writes <code>renv/.gitignore</code>, to ensure that the appropriate directories are ignored for projects which initialize <code>git</code> after renv itself is initialized. (#462)</p></li>
<li><p>R Markdown documents with the <code>.Rmarkdown</code> file extension are now parsed for dependencies.</p></li>
<li><p>Fixed an issue where setting the <code>external.libraries</code> configuration option would trigger a warning. (#452)</p></li>
<li><p>Improved handling of unicode paths on Windows. (#451)</p></li>
<li><p><code>renv::snapshot(project = &lt;path&gt;)</code> now properly respects <code>.gitignore</code> / <code>.renvignore</code> files, even when that project has not yet been explicitly initialized yet. (#439)</p></li>
<li><p>The default value of the <code>synchronized.check</code> option has been changed from TRUE to FALSE.</p></li>
<li><p>Fixed an issue where packages downloaded from Bitbucket and GitLab did not record the associated commit hash.</p></li>
<li><p>Fixed an issue where attempting to install packages from GitLab could fail to install the correct version of the package. (#436)</p></li>
<li><p><code>renv::snapshot()</code> now preserves records in a lockfile that are only available for a different operating system. This should make it easier to share lockfiles that make use of platform-specific packages. (#419)</p></li>
<li><p>renv better handles files that are removed during an invocation to <code>renv::dependencies()</code>. (#429)</p></li>
<li><p>The configuration option <code>install.staged</code> has been renamed to <code>install.transactional</code>, to better reflect its purpose. <code>install.staged</code> remains supported as a deprecated alias.</p></li>
<li><p>Fixed an issue where renv could fail to parse non-ASCII content on Windows. (#421)</p></li>
<li><p><code>renv::update()</code> gains the <code>exclude</code> argument, useful in cases where one would like to update all packages used in a project, except for a small subset of excluded packages. (#425)</p></li>
<li><p><code>renv::update()</code> now respects the project <code>ignored.packages</code> setting. (#425)</p></li>
<li><p>Fixed an issue where RSPM binary URL transformations could fail for Ubuntu Trusty. (#423)</p></li>
<li><p>renv now records the <code>OS_type</code> reported in a package’s <code>DESCRIPTION</code> file (if any), and ignores packages incompatible with the current operating system during restore. (#394)</p></li>
</ul>
</section>
<section id="renv-0.10.0" class="level1" data-number="41">
<h1 data-number="41"><span class="header-section-number">41</span> renv 0.10.0</h1>
<ul>
<li><p><code>renv::install()</code> gains the <code>type</code> argument, used to control whether renv should attempt to install packages from sources (<code>"source"</code>) or using binaries (<code>"binary"</code>).</p></li>
<li><p>renv now knows how to find and activate Rtools40, for R 4.0.0 installations on Windows.</p></li>
<li><p>The <code>RENV_PATHS_PREFIX</code> environment variable can now be used to prepend an optional path component to the project library and global cache paths. This is primarily useful for users who want to share the renv cache across multiple operating systems on Linux, but need to disambigutate these paths according to the operating system in use. See <code>?renv::paths</code> for more details.</p></li>
<li><p>Fixed an issue where <code>renv::install()</code> could fail for packages from GitHub whose DESCRIPTION files contained Windows-style line endings. (#408)</p></li>
<li><p><code>renv::update()</code> now also checks and updates any Bioconductor packages used within a project. (#392)</p></li>
<li><p>renv now properly parses negated entries within a <code>.gitignore</code>; e.g. <code>!script.R</code> will indicate that renv should include <code>script.R</code> when parsing dependencies. (#403)</p></li>
<li><p>Fixed an issue where packages which had only binaries available on a package repository were not detected as being from a package repository. (#402)</p></li>
<li><p>Fixed an issue where calls of the form <code>p_load(char = &lt;vctr&gt;)</code> caused a failure when enumerating dependencies. (#401)</p></li>
<li><p>Fixed an issue where <code>renv::install()</code> could fail when multiple versions of a package are available from a single repository, but some versions of those packages are incompatible with the current version of R. (#252)</p></li>
<li><p>Fixed an issue where downloads could fail when the associated pre-flight HEAD request failed as well. (#390)</p></li>
<li><p>Fixed an issue where empty records within a DESCRIPTION file could cause <code>renv::dependencies()</code> to fail. (#382)</p></li>
<li><p>renv will now download binaries of older packages from MRAN when possible.</p></li>
<li><p>renv will now attempt to re-generate the system library sandbox if it is deleted while a session is active. (#361)</p></li>
<li><p>Fixed an issue where Python packages referenced using <code>reticulate::import()</code> were incorrectly tagged as R package dependencies. Similarly, renv now only considers calls to <code>modules::import()</code> if those calls occur within a call to <code>modules::module()</code>. (#359)</p></li>
<li><p><code>renv::scaffold()</code> now also generates a lockfile when invoked. (#351)</p></li>
<li><p>The argument <code>confirm</code> has been renamed to <code>prompt</code> in all places where it is used. <code>confirm</code> remains supported for backwards compatibility, but is no longer explicitly documented. (#347)</p></li>
<li><p>The continuous integration renv vignette now also contains a template for using renv together with GitLab CI. (#348, <span class="citation" data-cites="artemklevtsov">(<a href="#ref-artemklevtsov" role="doc-biblioref"><strong>artemklevtsov?</strong></a>)</span>)</p></li>
<li><p>renv now properly resets the session library paths when calling <code>renv::deactivate()</code> from within RStudio. (#219)</p></li>
<li><p><code>renv::init()</code> now restores the associated project library when called in a project containing a lockfile but no project library nor any pre-existing project infrastructure.</p></li>
<li><p>Fixed an issue on Windows where attempts to download packages from package repositories referenced with a <code>file://</code> scheme could fail.</p></li>
<li><p>The configuration option <code>dependency.errors</code> has been added, controlling how errors are handled during dependency enumeration. This is used, for example, when enumerating dependencies during a call to <code>renv::snapshot()</code>. By default, errors are reported, and (for interactive sessions) the user is prompted to continue. (#342)</p></li>
<li><p><code>renv::dependencies()</code> gains two new arguments: the <code>progress</code> argument controls whether renv reports progress while enumerating dependencies, and <code>errors</code> controls how renv handles and reports errors encountered during dependency discovery. The <code>quiet</code> argument is now soft-deprecated, but continues to be supported for backwards compatibility. Specifying <code>quiet = TRUE</code> is equivalent to specifying <code>progress = FALSE</code> and <code>errors = "ignored"</code>. Please see the documentation in <code>?dependencies</code> for more details. (#342)</p></li>
<li><p>The environment variable <code>RENV_PATHS_LIBRARY_ROOT</code> can now be set, to instruct renv to use a particular directory as a host for any project libraries that are used by renv. This can be useful for certain cases where it is cumbersome to include the project library within the project itself; for example, when developing an R package. (#345)</p></li>
<li><p>The code used to bootstrap renv (that is, the code used to install renv into a project) has been overhauled. (#344)</p></li>
<li><p>renv no longer unsets an error handler set within the user profile when loading a project. (#343)</p></li>
<li><p>renv gains the <span style="white-space:nowrap">« </span>explicit<span style="white-space:nowrap"> »</span> snapshot type, wherein only packages explicitly listed as dependencies within the project <code>DESCRIPTION</code> file (and those package’s transitive dependencies) will enter the lockfile when <code>renv::snapshot()</code> is called. (#338)</p></li>
<li><p>renv will now transform RSPM source URLs into binary URLs as appropriate, allowing renv to use RSPM’s binary repositories during restore. See <code>?config</code> for more details. (#124)</p></li>
<li><p>renv will now infer a dependency on <code>hexbin</code> in projects that make use of the <code>ggplot2::geom_hex()</code> function.</p></li>
<li><p>renv now tries to place Rtools on the PATH when a package is installed with the <code>install.packages()</code> hook active. (#335)</p></li>
</ul>
</section>
<section id="renv-0.9.3" class="level1" data-number="42">
<h1 data-number="42"><span class="header-section-number">42</span> renv 0.9.3</h1>
<ul>
<li><p>Fixed an issue where attempts to specify <code>RENV_PATHS_RTOOLS</code> would be ignored by renv. (#335)</p></li>
<li><p>Fixed an issue where downloads could fail when using the <code>wininet</code> downloader, typically with a message of the form <span style="white-space:nowrap">« </span>InternetOpenUrl <span style="white-space:nowrap">failed: ‹</span>The requested header was not found›<span style="white-space:nowrap"> »</span>.</p></li>
<li><p>renv better handles projects containing special characters on Windows. (#334)</p></li>
<li><p>renv better handles unnamed repositories. (#333)</p></li>
<li><p>renv gains the config option <code>hydrate.libpaths</code>, allowing one to control the library paths used by default for <code>renv::hydrate()</code>. (#329)</p></li>
<li><p><code>renv::hydrate()</code> gains the <code>sources</code> argument, used to control the library paths used by renv when hydrating a project. (#329)</p></li>
<li><p>renv now sandboxes the system library by default on Windows.</p></li>
<li><p>renv now validates that the Xcode license has been accepted before attempting to install R packages from sources. (#296)</p></li>
<li><p>The R option <code>renv.download.override</code> can now be used to override the machinery used by renv when downloading files. For example, setting <code>options(renv.download.override = utils::download.file)</code> would instruct renv to use R’s own downloader when downloading files from the internet. This can be useful when configuration of <code>curl</code> is challenging or intractable in your environment, or you’ve already configured the base R downloader suitably.</p></li>
<li><p><code>renv::use_python("~/path/to/python")</code> now works as expected.</p></li>
<li><p>renv now properly expands <code>R_LIBS_SITE</code> and <code>R_LIBS_USER</code> when set within a startup <code>.Renviron</code> file. (#318)</p></li>
<li><p>The <code>renv.download.headers</code> option can now be used to provide arbitrary HTTP headers when downloading files. See the <strong>Authentication</strong> section in <code>vignette("renv")</code> for more details. (#307)</p></li>
<li><p>renv gains the project setting <code>package.dependency.fields</code>, for controlling which fields in an R package’s <code>DESCRIPTION</code> file are examined when discovering recursive package dependencies. This can be useful when you’d like to instruct renv to track, for example, the <code>Suggests</code> dependencies of the packages used in your project. (#315)</p></li>
<li><p>renv now better handles repositories referenced using file URIs.</p></li>
<li><p>Packages installed from GitHub using <code>renv::install()</code> will now also have <code>Github*</code> fields added, in addition to the default <code>Remote*</code> fields. This should help fix issues when attempting to deploy projects to RStudio Connect requiring packages installed by renv. (#397)</p></li>
<li><p>renv now prefers using a RemoteType field (if any) when attempting to determine a package’s source. (#306)</p></li>
<li><p>renv gains a new function <code>renv::scaffold()</code>, for generating renv project infrastructure without explicitly loading the project. (#303)</p></li>
<li><p>renv now updates its local <code>.gitignore</code> file, when part of a git repository whose git root lives in a parent directory. (#300)</p></li>
</ul>
</section>
<section id="renv-0.9.2" class="level1" data-number="43">
<h1 data-number="43"><span class="header-section-number">43</span> renv 0.9.2</h1>
<ul>
<li>Fixed an issue in invoking <code>find</code> on Solaris.</li>
</ul>
</section>
<section id="renv-0.9.1" class="level1" data-number="44">
<h1 data-number="44"><span class="header-section-number">44</span> renv 0.9.1</h1>
<ul>
<li>Fixed an issue in invoking <code>cp</code> on Solaris.</li>
</ul>
</section>
<section id="renv-0.9.0" class="level1" data-number="45">
<h1 data-number="45"><span class="header-section-number">45</span> renv 0.9.0</h1>
<ul>
<li><p>renv gains a new function <code>renv::record()</code>, for recording new packages within an existing lockfile. This can be useful when one or more of the recorded packages need to be modified for some reason.</p></li>
<li><p>An empty <code>.renvignore</code> no longer erroneously ignores all files within a directory. (#286)</p></li>
<li><p>renv now warns if the version of renv loaded within a project does not match the version declared within the renv autoloader. (#285)</p></li>
<li><p>renv gains a new function <code>renv::run()</code>, for running R scripts within a particular project’s context inside an R subprocess. (#126)</p></li>
<li><p>The algorithm used by renv for hashing packages has changed. Consider using <code>renv::rehash()</code> to migrate packages from the old renv cache to the new renv cache.</p></li>
<li><p><code>renv::status()</code> now reports packages which are referenced in your project code, but are not currently installed. (#271)</p></li>
<li><p>renv is now able to restore packages with a recorded URL remote. (#272)</p></li>
<li><p><code>renv::dependencies()</code> can now parse R package dependencies used as custom site generator in an Rmd yaml header. (#269, <span class="citation" data-cites="cderv">(<a href="#ref-cderv" role="doc-biblioref"><strong>cderv?</strong></a>)</span>)</p></li>
<li><p>renv now properly respects a downloader requested by the environment variable <code>RENV_DOWNLOAD_FILE_METHOD</code>.</p></li>
<li><p>renv no longer sources the user profile (normally located at <code>~/.Rprofile</code>) by default. If you desire this behavior, you can opt-in by setting <code>RENV_CONFIG_USER_PROFILE = TRUE</code>; e.g.&nbsp;within your project or user <code>.Renviron</code> file. (#261)</p></li>
<li><p><code>renv::restore()</code> gains the <code>packages</code> argument, to be used to restore a subset of packages recorded within the lockfile. (#260)</p></li>
<li><p>renv now tries harder to preserve the existing structure in infrastructure files (e.g.&nbsp;the project <code>.Rprofile</code>) that it modifies. (#259)</p></li>
<li><p>renv now warns if any Bioconductor packages used in the project appear to be from a different Bioconductor release than the one currently active and stored in the lockfile. (#244)</p></li>
<li><p>renv now normalizes any paths set in the <code>RENV_PATHS_*</code> family of environment variables when renv is loaded.</p></li>
<li><p>Fixed an issue where renv would not properly clean up after a failed attempt to call <code>Sys.junction()</code>. (#251)</p></li>
<li><p>Fixed an issue where renv would, in some cases, copy rather than link from the package cache when the library path had been customized with the <code>RENV_PATHS_LIBRARY</code> environment variable. (#245)</p></li>
<li><p>The method renv uses when copying directories can now be customized. When copying directories, renv now by default uses <code>robocopy</code> on Windows, and <code>cp</code> on Unix. This should improve robustness when attempting to copy files in some contexts; e.g.&nbsp;when copying across network shares.</p></li>
<li><p>renv now tracks the version of Bioconductor used within a project (if applicable), and uses that when retrieving the set of repositories to be used during <code>renv::restore()</code>.</p></li>
<li><p><code>renv::dependencies()</code> can now parse R package dependencies declared and used by the <code>modules</code> package. (#238, <span class="citation" data-cites="labriola">(<a href="#ref-labriola" role="doc-biblioref"><strong>labriola?</strong></a>)</span>)</p></li>
<li><p>Fixed an issue where <code>renv::restore()</code> could fail in Docker environments, usually with an error message <span style="white-space:nowrap">like ‹</span>Invalid cross-device link›. (#243)</p></li>
<li><p><code>renv::install()</code> disables staged package install when running with the Windows Subsystem for Linux. (#239)</p></li>
</ul>
</section>
<section id="renv-0.8.3" class="level1" data-number="46">
<h1 data-number="46"><span class="header-section-number">46</span> renv 0.8.3</h1>
<ul>
<li><p><code>renv::dependencies()</code> gains a new argument <code>dev</code>, indicating whether development dependencies should also be included in the set of discovered package dependencies. By default, only runtime dependencies will be reported.</p></li>
<li><p>renv has gained the function <code>renv::diagnostics()</code>, which can occasionally be useful in understanding and diagnosing renv (mis)behaviors.</p></li>
<li><p><code>renv::equip()</code> can now be used on macOS to install the R LLVM toolchain normally used when compiling packages from source. renv will also use this toolchain as appropriate when building packages from source.</p></li>
<li><p><code>renv::install()</code> now provides a custom Makevars when building packages on macOS with Apple Clang, to avoid issues due to the use <span style="white-space:nowrap">of ‹</span>-fopenmp› during compilation.</p></li>
<li><p><code>renv::install()</code> now respects explicit version requests when discovered in a project’s DESCRIPTION file. (#233)</p></li>
<li><p>Fixed an issue where <code>renv:::actions()</code> would fail to report any actions if the project lockfile was empty. (#232)</p></li>
<li><p>When using renv for R package development, renv will no longer attempt to write the package being developed to the lockfile. (#231)</p></li>
<li><p>Fixes for checks run on CRAN.</p></li>
<li><p>renv will now search for Rtools in more locations. (#225)</p></li>
<li><p><code>renv::load()</code> now ensures that the version of renv associated with the loaded project is loaded when possible. In addition, experimental support for switching between projects with <code>renv::load()</code> has been implemented. (#229)</p></li>
<li><p><code>renv::dependencies()</code> no longer treats folders named with the extension <code>.Rmd</code> as though they were regular files. (#228)</p></li>
<li><p>It is now possible to install source packages contained within <code>.zip</code> archives using <code>renv::install()</code>.</p></li>
<li><p>Fixed an issue where attempts to call <code>renv::restore()</code> with the path to the lockfile explicitly provided would fail. (#227)</p></li>
</ul>
</section>
<section id="renv-0.8.2" class="level1" data-number="47">
<h1 data-number="47"><span class="header-section-number">47</span> renv 0.8.2</h1>
<ul>
<li>Further fixes for checks run on CRAN.</li>
</ul>
</section>
<section id="renv-0.8.1" class="level1" data-number="48">
<h1 data-number="48"><span class="header-section-number">48</span> renv 0.8.1</h1>
<ul>
<li>Fixes for checks run on CRAN.</li>
</ul>
</section>
<section id="renv-0.8.0" class="level1" data-number="49">
<h1 data-number="49"><span class="header-section-number">49</span> renv 0.8.0</h1>
<ul>
<li>Initial CRAN release.</li>
</ul>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Réutilisation</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.fr">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@article{timbeau2025,
  author = {Timbeau, Xavier},
  date = {2025-10-24},
  url = {https://xtimbeau.github.io/travail/renv/library/macos/R-4.5/aarch64-apple-darwin20/renv/NEWS.html},
  langid = {fr}
}
</code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">Veuillez citer ce travail comme suit&nbsp;:</div><div id="ref-timbeau2025" class="csl-entry quarto-appendix-citeas" role="listitem">
<a href="https://xtimbeau.github.io/travail/renv/library/macos/R-4.5/aarch64-apple-darwin20/renv/NEWS.html">Timbeau
X. (2025). </a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copié");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copié");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/xtimbeau\.github\.io\/travail\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // default icon
            link.classList.add("external");
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p><a href="../../../../../../www/ccby4.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="../../../../../../www/ccby4.png" height="16"></a></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>propulsé par <img src="../../../../../../www/quarto.png" height="16"></p>
</div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>